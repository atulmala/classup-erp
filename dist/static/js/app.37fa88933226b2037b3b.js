webpackJsonp([1],{"5SzT":function(t,e){},"7zck":function(t,e){},HK7u:function(t,e){},IXiG:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("mtWM"),i=s.n(n),o={name:"HelloWorld",data:function(){return{msg:"Welcome to ClassUp",input:{user:"",password:""},show_it:!0,alert_type:"",alert_message:"",response:"",showDismissibleAlert:!1}},methods:{dismiss:function(){this.showDismissibleAlert=!1},login:function(){var t=this;if(""!=this.input.user&&""!=this.input.password){console.log("username and password have been specified");var e=this.$store.getters.get_server_ip;console.log(e);var s=e.concat("/auth/login/");i()({method:"POST",url:s,data:this.input}).then(function(e){t.response=e.data,console.log(t.response),"success"==e.data.outcome?(t.show_it=!1,t.alert_type="success",t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.$store.dispatch("set_logged_status",!0),t.$store.dispatch("set_user",t.input.user),t.$store.dispatch("set_user_name",e.data.user_name),t.$store.dispatch("set_user_type",e.data.user_type),t.$store.dispatch("set_school_name",e.data.school_name),t.$store.dispatch("set_id",e.data.school_id),t.$router.push("/dashboard")):(t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.alert_type="error",t.$store.dispatch("set_logged_status",!1),t.$store.dispatch("set_user","unknown"),t.$store.dispatch("set_user_name",""),t.$store.dispatch("set_user_type","unknown"),t.$store.dispatch("set_school_name","ClassUp"),t.$store.dispatch("set_id",0))},function(e){t.alert_type="error",t.alert_message="an error occured in contacting the server",console.log(t.alert_message),console.error(e.response),t.$emit("authenticated",!1)})}else this.alert_type="error",this.alert_message="A username and password must be present",console.log(this.alert_message),this.showDismissibleAlert=!0,this.dismissCountDown=this.dismissSecs},get_logged_status:function(){return this.$store.getters.get_logged_status}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show_it?s("v-app",{attrs:{id:"hello"}},[s("div",{staticClass:"hello"},[s("v-content",[s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("img",{attrs:{src:"https://storage.cloud.google.com/classup/classup2/static/prod/images/ClassUp_mobile_logo.png?_ga=2.134540216.-83250823.1538650499"}}),t._v(" "),s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Please Login")]),t._v(" "),s("v-card",{staticClass:"elevation-12"},[s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{"prepend-icon":"person",label:"Login",type:"text"},on:{focus:function(e){return t.dismiss()}},model:{value:t.input.user,callback:function(e){t.$set(t.input,"user",e)},expression:"input.user"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"lock",label:"Password",id:"password",type:"password"},on:{focus:function(e){return t.dismiss()}},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}})],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{on:{click:function(e){return t.login()}}},[t._v("Login")])],1)],1),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1)],1)]):t._e()},staticRenderFns:[]};var l={name:"App",components:{hello:s("VU/8")(o,r,!1,function(t){s("eM2Q")},"data-v-2b00be44",null).exports},data:function(){return{waiting:!1,drawer:{open:!0,clipped:!1,fixed:!1,permanent:!1,mini:!1},toolbar:{fixed:!0,clippedLeft:!1},footer:{fixed:!0,clippedLeft:!0},communication_items:[{title:"Send Bulk Message",action:this.bulk_message},{title:"Download Monthly Communication Report",action:this.monthly_communication},{title:"Download Parent Communication Report",action:this.parent_communication}],student_management_items:[{title:"Add Student",action:this.add_student},{title:"Update Student",action:this.update_student}],exam_items:[{title:"Result Analysis Sheets",action:this.class_search},{title:"Download Mark Sheets",action:this.mark_sheet},{title:"Download Performance Sheets",action:this.performance_analysis}],fee_items:[{title:"Take Fee",action:this.student_search},{title:"Cancel Fee",action:this.correction},{title:"Defaulter Report",action:this.defaulter_report}],report_items:[{title:"Monthly Attendance of Class"}],right:null}},methods:{toggleDrawer:function(){this.drawer.permanent?(this.drawer.permanent=!this.drawer.permanent,this.drawer.clipped=!0,this.toolbar.clippedLeft=!0):this.drawer.open=!this.drawer.open},logout:function(){this.drawer.open=!1,this.$store.dispatch("set_logged_status",!1),this.$store.dispatch("set_user","unknown"),this.$store.dispatch("set_user_type","unknown"),this.$store.dispatch("set_school_name","ClassUp"),this.$store.dispatch("set_id",0),this.$router.replace("/")},bulk_message:function(){this.$store.dispatch("set_coming_status","bulk_sms"),this.$router.replace("/bulk_sms")},class_search:function(){this.$store.dispatch("set_coming_status","class_search"),this.$router.replace("/class_search")},mark_sheet:function(){this.$store.dispatch("set_coming_status","mark_sheet"),this.$router.replace("/mark_sheet")},performance_analysis:function(){this.$store.dispatch("set_coming_status","performance_analysis"),this.$router.replace("/performance_analysis")},student_search:function(){this.$store.dispatch("set_coming_status","fee_payment"),this.$router.replace("/student_search")},add_student:function(){this.$store.dispatch("set_coming_status","add_student"),this.$router.replace("/add_student")},update_student:function(){this.$store.dispatch("set_coming_status","update_student"),this.$router.replace("/student_search")},defaulter_report:function(){var t=this;alert("Report will be downloaded. This can take some time"),t.waiting=!0;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=e.concat("/fee_processing/defaulter_list/",s,"/");i.a.get(a,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;a.setAttribute("download","fee_defaulter_report.xlsx"),document.body.appendChild(a),a.click(),t.waiting=!1,confirm("Fee Defaulter Report downloaded")}).catch(function(t){console.log(t)}).then(function(){})},correction:function(){this.$store.dispatch("set_coming_status","correction"),this.$router.replace("/student_search")}},computed:{get_title:function(){return this.$store.getters.get_school_name},get_user_name:function(){return this.$store.getters.get_user_name},get_logged_status:function(){return this.$store.getters.get_logged_status}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("div",{attrs:{id:"app"}},[t.get_logged_status?s("v-toolbar",{staticClass:"my-toolbar",attrs:{app:"",fixed:t.toolbar.fixed,"clipped-left":t.toolbar.clippedLeft}},[s("v-toolbar-side-icon",{attrs:{disabled:!t.get_logged_status},on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}),t._v(" "),s("v-toolbar-title",[t._v(t._s(t.get_title))]),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",[s("v-chip",{attrs:{color:"indigo","text-color":"white"}},[s("v-avatar",[s("v-icon",[t._v("account_circle")])],1),t._v("\n          "+t._s(t.get_user_name)+"\n        ")],1),t._v(" "),s("v-btn",{attrs:{flat:"",disabled:!t.get_logged_status},on:{click:function(e){return t.logout()}}},[t._v("Log Out")])],1)],1):t._e(),t._v(" "),t.get_logged_status?s("v-navigation-drawer",{attrs:{app:"",clipped:t.drawer.clipped,fixed:t.drawer.fixed,permanent:t.drawer.permanent,"mini-variant":t.drawer.mini},model:{value:t.drawer.open,callback:function(e){t.$set(t.drawer,"open",e)},expression:"drawer.open"}},[s("v-divider"),t._v("`\n      "),s("v-list",{staticClass:"pt-0",attrs:{dense:""}},[s("v-list-group",{attrs:{"prepend-icon":"",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-title",[t._v("Communications & Messaging")])],1)]},proxy:!0}],null,!1,2179514039)},[t._v(" "),t._l(t.communication_items,function(e){return s("v-list-tile",{key:e.title,on:{click:e.action}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-list-group",{attrs:{"prepend-icon":"",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-title",[t._v("Student Management")])],1)]},proxy:!0}],null,!1,3923808470)},[t._v(" "),t._l(t.student_management_items,function(e){return s("v-list-tile",{key:e.title,on:{click:e.action}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-list-group",{attrs:{"prepend-icon":"",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-title",[t._v("Exam & Results")])],1)]},proxy:!0}],null,!1,4273059905)},[t._v(" "),t._l(t.exam_items,function(e){return s("v-list-tile",{key:e.title,on:{click:e.action}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-list-group",{attrs:{"prepend-icon":"",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-title",[t._v("Fees Management")])],1)]},proxy:!0}],null,!1,537403338)},[t._v(" "),t._l(t.fee_items,function(e){return s("v-list-tile",{key:e.title,on:{click:e.action}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-list-group",{attrs:{"prepend-icon":"",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-title",[t._v("Reports")])],1)]},proxy:!0}],null,!1,3101094705)},[t._v(" "),t._l(t.report_items,function(e){return s("v-list-tile",{key:e.title,on:{click:e.action}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2)],1)],1):t._e(),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),!1===t.get_logged_status?s("div",[s("hello")],1):t._e(),t._v(" "),s("v-footer",{attrs:{app:"",fixed:t.footer.fixed,"clipped-left":t.footer.clippedLeft}},[s("span",{staticClass:"caption mx-3"},[t._v("© 2019, EmergeTech Mobile Products & Services Pvt Ltd")])]),t._v(" "),s("router-view")],2)])},staticRenderFns:[]};var _=s("VU/8")(l,c,!1,function(t){s("5SzT")},"data-v-8837c9a8",null).exports,d=s("/ocq"),u={render:function(){var t=this.$createElement;return(this._self._c||t)("v-app",{attrs:{id:"dashboard"}})},staticRenderFns:[]},m=s("VU/8")({name:"Dashboard"},u,!1,null,null,null).exports,h=s("ZkYA"),f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",{staticClass:"ma-0 pa-0 ta-0"},[s("h2",[t._v("Fee Details")]),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"d-flex":"",xs6:"","order-xs5":"","offset-sm3":""}},[s("v-layout",{attrs:{column:""}},[s("v-flex",{attrs:{"d-flex":"",xs6:""}},[s("h5",[t._v("Student:")]),t._v(" "),s("h3",[t._v(t._s(t.student_name))]),t._v(" "),s("h5",[t._v("Class:")]),t._v(" "),s("h3",[t._v(t._s(t.the_class))]),t._v(" "),s("h5",[t._v("Reg/Adm/Sch No")]),t._v(" "),s("h3",[t._v(t._s(t.student_erp_id))]),t._v(" "),s("h5",[t._v("Parent")]),t._v(" "),s("h3",[t._v(t._s(t.parent))])])],1)],1)],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs6:"","order-xs7":"","offset-sm3":""}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.heads,"hide-actions":"true",loading:"true"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){return t.click(e.item)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.head))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[s("v-edit-dialog",{attrs:{"return-value":e.item.amount,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(s){return t.$set(e.item,"amount",s)},"update:return-value":function(s){return t.$set(e.item,"amount",s)},save:function(s){return t.update_fee(e.item)}},scopedSlots:t._u([{key:"input",fn:function(){return[s("v-text-field",{attrs:{disabled:"Transportation Fee"!==e.item.head,label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.item.amount,callback:function(s){t.$set(e.item,"amount",s)},expression:"props.item.amount"}})]},proxy:!0}],null,!0)},[s("div",[t._v(t._s(e.item.amount))])])],1),t._v(" "),s("td",{staticClass:"text-xs-left"},[s("v-edit-dialog",{attrs:{"return-value":e.item.discount_perc,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(s){return t.$set(e.item,"discount_perc",s)},"update:return-value":function(s){return t.$set(e.item,"discount_perc",s)},save:function(s){return t.apply_discount(e.item)}},scopedSlots:t._u([{key:"input",fn:function(){return[s("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.item.discount_perc,callback:function(s){t.$set(e.item,"discount_perc",s)},expression:"props.item.discount_perc"}})]},proxy:!0}],null,!0)},[s("div",[t._v(t._s(e.item.discount_perc))])])],1),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.discount_amt))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.net_payable))])])]}}])})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs7:"","order-xs10":"","offset-sm3":""}},[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Due this Month/Qtr",disabled:"true"},model:{value:t.due_this_term,callback:function(e){t.due_this_term=e},expression:"due_this_term"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Previous Due",disabled:"true"},model:{value:t.previous_due,callback:function(e){t.previous_due=e},expression:"previous_due"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Paid Till Date",disabled:"true"},on:{focus:function(e){return t.dismiss()}},model:{value:t.paid_till_date,callback:function(e){t.paid_till_date=e},expression:"paid_till_date"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Delay",disabled:"true"},model:{value:t.delay,callback:function(e){t.delay=e},expression:"delay"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Penalty"},on:{focus:function(e){return t.dismiss()}},model:{value:t.late_fee,callback:function(e){t.late_fee=e},expression:"late_fee"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Other/One time Charges"},on:{focus:function(e){return t.dismiss()}},model:{value:t.one_time,callback:function(e){t.one_time=e},expression:"one_time"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Waivers"},on:{focus:function(e){return t.dismiss()}},model:{value:t.waiver,callback:function(e){t.waiver=e},expression:"waiver"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Net Payable",disabled:"true"},model:{value:t.net_payable,callback:function(e){t.net_payable=e},expression:"net_payable"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Actual Paid"},on:{focus:function(e){return t.dismiss()}},model:{value:t.actual_paid,callback:function(e){t.actual_paid=e},expression:"actual_paid"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Remaining Balance",disabled:"true"},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs4:"",sm4:"",md6:""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.payment_mode,callback:function(e){t.payment_mode=e},expression:"payment_mode"}},[s("v-radio",{attrs:{label:"Cash",value:"cash"}}),t._v(" "),s("v-radio",{attrs:{label:"Cheque",value:"cheque"}}),t._v(" "),s("v-radio",{attrs:{label:"Card",value:"card"}}),t._v(" "),s("v-radio",{attrs:{label:"Net Banking",value:"netbanking"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Cheque No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.cheque_no,callback:function(e){t.cheque_no=e},expression:"cheque_no"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Bank"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-btn",{attrs:{color:"success"},on:{click:t.fee_history}},[t._v("Download Payment History")]),t._v(" "),s("v-btn",{attrs:{color:"success"},on:{click:t.validate_fee}},[t._v("Accept Fee")])],1),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.process_fee()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]},v=s("VU/8")(h.a,f,!1,null,null,null).exports,p={name:"StudentSearch",data:function(){return{show_search_criteria:!0,show_student_list:!1,loader:null,loading:!1,reg_no:"",first_name:"",last_name:"",the_class:"",class_list:[],students:[],alert_type:"",alert_message:"",showDismissibleAlert:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip.concat("/academics/class_list/",e,"/");i.a.get(s).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.reg_no&&""==this.first_name&&(this.alert_message="Search criteria provided is NOT Enough.",this.showDismissibleAlert=!0,e=!1),""!=this.first_name&&""==this.reg_no&&""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),e){var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,n=s.concat("/student/list/",a,"/","in_params","/","in_params");i.a.get(n,{params:{reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class}}).then(function(e){if(0==e.data.length)t.alert_message="Student not found. Please change the search criteria and try again",t.showDismissibleAlert=!0,t.alert_type="error";else{t.show_search_criteria=!1;for(var s=0;s<e.data.length;s++){var a={};a.reg_no=e.data[s].student_erp_id,a.name=e.data[s].fist_name+" "+e.data[s].last_name,a.the_class=e.data[s].current_class+"-"+e.data[s].current_section,a.parent=e.data[s].parent,a.adm_fee=e.data[s].adm_fee,console.log(a),t.students.push(a)}console.log(t.students),t.show_student_list=!0}}).catch(function(t){console.log(t)}).then(function(){})}console.log(this.reg_no)},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;if(console.log(e),"fee_payment"==e)confirm("Are you sure you want to process the fees for "+t.name+" ("+t.reg_no+")?")&&(this.$store.dispatch("set_student_id",t.reg_no),this.$store.dispatch("set_student_name",t.name),this.$store.dispatch("set_parent",t.parent),this.$router.replace("/fee_payment"));if("correction"==e)if(confirm("Are you sure you want to do correction for "+t.name+" ("+t.reg_no+")?")){this.$store.dispatch("set_student_id",t.reg_no),this.$store.dispatch("set_student_name",t.name);var s=t.current_class;console.log(s);var a=t.current_section;console.log(a),this.$store.dispatch("set_student_class",t.the_class),this.$store.dispatch("set_parent",t.parent),this.$router.replace("/correction")}if("update_student"==e)confirm("Are you sure you want to do update for "+t.name+" ("+t.reg_no+")?")&&(this.$store.dispatch("set_student_id",t.reg_no),this.$store.dispatch("set_student_name",t.name),this.$store.dispatch("set_student_class",t.the_class),this.$store.dispatch("set_parent",t.parent),this.$router.replace("/update_student"))}}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",{attrs:{fluid:""}},[s("h2",[t._v("Student Search")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Reg/Adm/Sch Number"},on:{focus:function(e){return t.dismiss()}},model:{value:t.reg_no,callback:function(e){t.reg_no=e},expression:"reg_no"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Surname/Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"info"},on:{click:[function(e){t.loader="loading"},function(e){return t.search()}]}},[t._v("\n              Search\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1)],1):t._e(),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}},[t.show_student_list?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.students},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){return t.showAlert(e.item)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.reg_no))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.the_class))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.parent))])])]}}],null,!1,3051637608)}):t._e()],1)],1)],1)},staticRenderFns:[]};var b,x=s("VU/8")(p,g,!1,function(t){s("j7Bz")},null,null).exports,w=s("bOdI"),y=s.n(w),k={name:"Correction",data:function(){var t;return t={school_id:"",student_id:"",reg_no:"",the_class:"",student_name:"",parent:"",alert_message:"",show_payment_history:!0,show_payment_details:!1,receipt_corrected:"",penalty:"",one_time:"",discount:"",amount_paid:"",payment_history:[],alert_type:""},y()(t,"alert_message",""),y()(t,"showDismissibleAlert",!1),y()(t,"headers",[{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Receipt Number",value:"receipt_number"},{text:"Amount Paid",value:"amount_paid"}]),t},mounted:function(){var t=this,e=this.$store.getters.get_school_id;this.$store.getters.get_student_id;this.student_name=this.$store.getters.get_student_name,this.parent=this.$store.getters.get_parent,t.reg_no=this.$store.getters.get_student_id,this.the_class=this.$store.getters.get_student_class;var s=this.$store.getters.get_server_ip.concat("/fee_processing/get_fee_history/");i.a.get(s,{params:{school_id:e,reg_no:t.reg_no,download:"false"}}).then(function(e){if(0==e.data.length)t.alert_message="No payment associated with this student could be found.",t.showDismissibleAlert=!0,t.alert_type="error";else{t.show_payment_history=!0,t.show_payment_details=!1;for(var s=0;s<e.data.length;s++){var a={};a.date=e.data[s].date,a.receipt_number=e.data[s].receipt_number,a.amount=e.data[s].amount,a.fine=e.data[s].fine,a.one_time=e.data[s].one_time,a.discount=e.data[s].discount,t.payment_history.push(a)}console.log(t.payment_history)}}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.reg_no&&""==this.first_name&&(this.alert_message="Search criteria provided is NOT Enough.",this.showDismissibleAlert=!0,e=!1),""!=this.first_name&&""==this.reg_no&&""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),e){var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,n=s.concat("/student/list/",a,"/","in_params","/","in_params");i.a.get(n,{params:{reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class}}).then(function(e){if(0==e.data.length)t.alert_message="Student not found. Please change the search criteria and try again",t.showDismissibleAlert=!0,t.alert_type="error";else{t.show_search_criteria=!1;for(var s=0;s<e.data.length;s++){var a={};a.reg_no=e.data[s].student_erp_id,a.name=e.data[s].fist_name+" "+e.data[s].last_name,a.the_class=e.data[s].current_class+"-"+e.data[s].current_section,a.parent=e.data[s].parent,a.adm_fee=e.data[s].adm_fee,console.log(a),t.students.push(a)}console.log(t.students),t.show_student_list=!0}}).catch(function(t){console.log(t)}).then(function(){})}console.log(this.reg_no)},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){event.target.classList.contains("btn__content")||confirm("Are you sure you want to do correction for "+t.receipt_number+" (date: "+t.date+", amount: "+t.amount+")?")&&(this.show_payment_history=!1,this.show_payment_details=!0,console.log(t.amount),this.receipt_corrected=t.receipt_number,this.penalty=t.fine,this.one_time=t.one_time,this.discount=t.discount,this.amount_paid=t.amount)},correction:function(){if(confirm("Are you sure you want to apply this correction?")){var t,e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=e.concat("/fee_processing/correct_fee/",s,"/");i.a.post(a,(t={receipt_corrected:this.receipt_corrected,penalty:this.penalty,due_this_term:this.due_this_term,one_time:this.one_time,fine:this.late_fee},y()(t,"one_time",this.one_time),y()(t,"discount",this.discount),y()(t,"amount_paid",this.amount_paid),t)).then(function(t){console.log(t),confirm("Fees successfully corrected"),self.$router.replace("/student_search")}).catch(function(t){console.log(t)}).then(function(){})}}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-container",{attrs:{fluid:""}},[s("v-content",[t.show_payment_history?s("h2",[t._v("Fee Payment History")]):t._e(),t._v(" "),t.show_payment_history?s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{"d-flex":"",xs6:""}},[s("v-layout",{attrs:{column:""}},[s("v-flex",{attrs:{"d-flex":"",xs6:""}},[s("h5",[t._v("Student:")]),t._v(" "),s("h3",[t._v(t._s(t.student_name))]),t._v(" "),s("h5",[t._v("Class:")]),t._v(" "),s("h3",[t._v(t._s(t.the_class))]),t._v(" "),s("h5",[t._v("Reg/Adm/Sch No")]),t._v(" "),s("h3",[t._v(t._s(t.reg_no))]),t._v(" "),s("h5",[t._v("Parent")]),t._v(" "),s("h3",[t._v(t._s(t.parent))])])],1)],1)],1):t._e(),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{"d-flex":"",xs6:""}},[t.show_payment_history?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.payment_history},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){return t.showAlert(e.item)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.date))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.receipt_number))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.amount))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.parent))])])]}}],null,!1,259448529)}):t._e()],1)],1)],1)],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs7:"","order-xs10":"","offset-sm3":""}},[t.show_payment_details?s("v-form",[s("h3",[t._v("Please Correct")]),t._v(" "),s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Penalty"},model:{value:t.penalty,callback:function(e){t.penalty=e},expression:"penalty"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Other/One Time"},model:{value:t.one_time,callback:function(e){t.one_time=e},expression:"one_time"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Discount"},on:{focus:function(e){return t.dismiss()}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}})],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs2:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Amount Paid"},on:{focus:function(e){return t.dismiss()}},model:{value:t.amount_paid,callback:function(e){t.amount_paid=e},expression:"amount_paid"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-btn",{attrs:{color:"success"},on:{click:t.correction}},[t._v("Update Payment")]),t._v(" "),s("v-btn",{attrs:{color:"success"},on:{click:t.validate_fee}},[t._v("Cancel")])],1),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1):t._e()],1)],1)},staticRenderFns:[]},S=s("VU/8")(k,A,!1,null,null,null).exports,D={name:"FeePayment",data:function(){return{date:null,menu:!1,modal:!1,reg_no:"",first_name:"",last_name:"",the_class:"",section:"",gender:"",parent:"",alert_message:"",dob:"",father_name:"",email:"",father_mobile:"",mother_name:"",mother_mobile:"",address:"",adhar:"",blood_group:"",house:"",father_occupation:"",mother_occupation:"",transport:"",bus_rout:"",bus_stop:"",class_list:[],section_list:[],showDismissibleAlert:!1,alert_type:"error",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},overlay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=s.concat("/academics/class_list/",e,"/");i.a.get(a).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var n=s.concat("/academics/section_list/",e,"/");i.a.get(n).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.section_list)}).catch(function(t){console.log(t)})},methods:(b={add_student:function(){},save_dob:function(){console.log("saving dob...")},validate_entries:function(){return""==this.reg_no?(this.alert_message="Please enter Registration/Admission/Scholar Number",void(this.showDismissibleAlert=!0)):""==this.first_name?(this.alert_message="Please enter First Name",void(this.showDismissibleAlert=!0)):""==this.last_name?(this.alert_message="Please enter Last Name",void(this.showDismissibleAlert=!0)):""==this.the_class?(this.alert_message="Please Select Class in which student is admitted",void(this.showDismissibleAlert=!0)):""==this.section?(this.alert_message="Please Select Section in which student is admitted",void(this.showDismissibleAlert=!0)):""==this.gender?(this.alert_message="Please Select Gender)",void(this.showDismissibleAlert=!0)):""==this.dob?(this.alert_message="Please enter Student's Date of Birth (DOB)",void(this.showDismissibleAlert=!0)):""==this.father_name?(this.alert_message="Please enter Father's name",void(this.showDismissibleAlert=!0)):""==this.father_mobile?(this.alert_message="Please enter Father's mobile number (10 digits)",void(this.showDismissibleAlert=!0)):""==this.mother_name?(this.alert_message="Please enter Mother's name",void(this.showDismissibleAlert=!0)):""==this.transport?(this.alert_message="Please mention whether Bus user or Walker",void(this.showDismissibleAlert=!0)):""==this.address?(this.alert_message="Please enter Address",void(this.showDismissibleAlert=!0)):(this.caption="Confirm Student Addition",this.alert_message="Are you sure you want to Add this Student ",this.confirm=!0,void(this.overlay=!0))},close:function(){console.log("Dialog closed")}},y()(b,"add_student",function(){var t=this;console.log("inside add student"),this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,n=s.concat("/student/add_student_web/");i.a.post(n,{school_id:e,sender:a,reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class,section:this.section,gender:this.gender,dob:this.dob,adhar:this.adhar,house:this.house,blood_group:this.blood_group,father_name:this.father_name,father_mobile:this.father_mobile,email:this.email,mother_name:this.mother_name,mother_mobile:this.mother_mobile,father_occupation:this.father_occupation,mother_occupation:this.mother_occupation,transport:this.transport,bus_rout:this.bus_rout,bus_stop:this.bus_stop,address:this.address}).then(function(e){if(console.log(e),t.overlay=!1,"success"!=e.data.status)return t.showDismissibleAlert=!0,void(t.alert_message=e.data.message);confirm("student successfully added")}).catch(function(t){console.log(t)}).then(function(){})}),y()(b,"dismiss",function(){this.showDismissibleAlert=!1}),b)},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Add Student")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Reg/Adm/Sch No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.reg_no,callback:function(e){t.reg_no=e},expression:"reg_no"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Surname/Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md3:"","justify-space-between":""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-radio",{attrs:{label:"Male",value:"male"}}),t._v(" "),s("v-radio",{attrs:{label:"Female",value:"female"}}),t._v(" "),s("v-radio",{attrs:{label:"Other",value:"other"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:"","justify-end":""}},[s("v-menu",{attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px"},model:{value:t.dob_menu,callback:function(e){t.dob_menu=e},expression:"dob_menu"}},[s("v-text-field",{attrs:{slot:"activator",label:"Date of Birth(DOB)","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),t._v(" "),s("v-date-picker",{attrs:{title:"Date of Birth(DOB)","no-title":"",scrollable:"",actions:""},scopedSlots:t._u([{key:"default",fn:function(t){t.save_dob,t.cancel_dob}}]),model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Adhar No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.adhar,callback:function(e){t.adhar=e},expression:"adhar"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Blood Group"},on:{focus:function(e){return t.dismiss()}},model:{value:t.blood_group,callback:function(e){t.blood_group=e},expression:"blood_group"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md1:""}},[s("v-text-field",{attrs:{label:"House"},on:{focus:function(e){return t.dismiss()}},model:{value:t.house,callback:function(e){t.house=e},expression:"house"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Father Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_name,callback:function(e){t.father_name=e},expression:"father_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Email"},on:{focus:function(e){return t.dismiss()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Father Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_mobile,callback:function(e){t.father_mobile=e},expression:"father_mobile"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Mother Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_name,callback:function(e){t.mother_name=e},expression:"mother_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Mother Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_mobile,callback:function(e){t.mother_mobile=e},expression:"mother_mobile"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Father Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_occupation,callback:function(e){t.father_occupation=e},expression:"father_occupation"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Mother Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_occupation,callback:function(e){t.mother_occupation=e},expression:"mother_occupation"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:"","justify-space-between":""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.transport,callback:function(e){t.transport=e},expression:"transport"}},[s("v-radio",{attrs:{label:"Bus User",value:"bus_user"}}),t._v(" "),s("v-radio",{attrs:{label:"Walker",value:"walker"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Bus Route"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_rout,callback:function(e){t.bus_rout=e},expression:"bus_rout"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Bus Stop"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_stop,callback:function(e){t.bus_stop=e},expression:"bus_stop"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md10:""}},[s("v-text-field",{attrs:{label:"Address"},on:{focus:function(e){return t.dismiss()}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"info"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n              Add Student\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.add_student()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]},C=s("VU/8")(D,$,!1,null,null,null).exports,E={name:"FeePayment",data:function(){return{date:null,menu:!1,modal:!1,reg_no:"",first_name:"",last_name:"",the_class:"",section:"",gender:"",parent:"",alert_message:"",dob:"",father_name:"",email:"",father_mobile:"",mother_name:"",mother_mobile:"",address:"",adhar:"",blood_group:"",house:"",father_occupation:"",mother_occupation:"",transport:"",bus_rout:"",bus_stop:"",class_list:[],section_list:[],showDismissibleAlert:!1,alert_type:"error",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},ovelay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=this.$store.getters.get_student_id,n=s.concat("/academics/class_list/",e,"/");i.a.get(n).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var o=s.concat("/academics/section_list/",e,"/");i.a.get(o).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.section_list)}).catch(function(t){console.log(t)});var r=s.concat("/student/single_student_details/",e,"?student_id=",a);i.a.get(r).then(function(e){console.log(e.data),t.reg_no=e.data[0].student_erp_id,t.first_name=e.data[0].fist_name,t.last_name=e.data[0].last_name,t.the_class=e.data[0].current_class,t.section=e.data[0].current_section,t.gender=e.data[0].gender,t.parent=e.data[0].parent,"Not Available"!=e.data[0].dob&&(t.dob=e.data[0].dob),t.father_name=e.data[0].parent,t.email=e.data[0].email,t.father_mobile=e.data[0].parent_mob,t.father_name=e.data[0].parent,t.mother_name=e.data[0].mother,t.mother_mobile=e.data[0].mother_mob,t.address=e.data[0].address,t.adhar=e.data[0].adhar,t.blood_group=e.data[0].blood_group,t.house=e.data[0].house,t.father_occupation=e.data[0].father_occ,t.mother_occupation=e.data[0].mother_occ,t.transport=e.data[0].bus_user,t.bus_rout=e.data[0].bus_rout,t.bus_stop=e.data[0].bus_stop}).catch(function(t){})},methods:{validate_entries:function(){return console.log("gender =",this.gender),""==this.reg_no?(this.alert_message="Please enter Registration/Admission/Scholar Number",void(this.showDismissibleAlert=!0)):""==this.first_name?(this.alert_message="Please enter First Name",void(this.showDismissibleAlert=!0)):""==this.last_name?(this.alert_message="Please enter Last Name",void(this.showDismissibleAlert=!0)):" "==this.gender||"Not Available"==this.gender?(this.alert_message="Please Select Gender)",void(this.showDismissibleAlert=!0)):""==this.dob?(this.alert_message="Please enter Student's Date of Birth (DOB)",void(this.showDismissibleAlert=!0)):""==this.father_name?(this.alert_message="Please enter Father's name",void(this.showDismissibleAlert=!0)):""==this.father_mobile?(this.alert_message="Please enter Father's mobile number (10 digits)",void(this.showDismissibleAlert=!0)):10!=this.father_mobile.length?(this.alert_message="Father's mobile number should be exactly 10 digits",void(this.showDismissibleAlert=!0)):10!=this.mother_mobile.length?(this.alert_message="Mother's mobile number should be exactly 10 digits",void(this.mother_mobile.this.showDismissibleAlert=!0)):""==this.mother_name?(this.alert_message="Please enter Mother's name",void(this.showDismissibleAlert=!0)):""==this.transport?(this.alert_message="Please mention whether Bus user or Walker",void(this.showDismissibleAlert=!0)):""==this.address?(this.alert_message="Please enter Address",void(this.showDismissibleAlert=!0)):(this.caption="Confirm Student Update",this.alert_message="Are you sure you want to Update this Student ",this.confirm=!0,void(this.ovelay=!0))},close:function(){console.log("Dialog closed")},update_student:function(){var t=this;console.log("inside update student"),this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,n=s.concat("/student/update_student_web/");i.a.post(n,{school_id:e,sender:a,reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class,section:this.section,gender:this.gender,dob:this.dob,adhar:this.adhar,house:this.house,blood_group:this.blood_group,father_name:this.father_name,father_mobile:this.father_mobile,email:this.email,mother_name:this.mother_name,mother_mobile:this.mother_mobile,father_occupation:this.father_occupation,mother_occupation:this.mother_occupation,transport:this.transport,bus_rout:this.bus_rout,bus_stop:this.bus_stop,address:this.address}).then(function(e){if(t.ovelay=!1,console.log(e),"success"!=e.data.status)return t.showDismissibleAlert=!0,void(t.alert_message=e.data.message);confirm("student successfully updated")}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Update Student")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{disabled:"true",label:"Reg/Adm/Sch No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.reg_no,callback:function(e){t.reg_no=e},expression:"reg_no"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Surname/Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md3:"","justify-space-between":""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-radio",{attrs:{label:"Male",value:"male"}}),t._v(" "),s("v-radio",{attrs:{label:"Female",value:"female"}}),t._v(" "),s("v-radio",{attrs:{label:"Other",value:"other"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:"","justify-end":""}},[s("v-menu",{attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px"},model:{value:t.dob_menu,callback:function(e){t.dob_menu=e},expression:"dob_menu"}},[s("v-text-field",{attrs:{slot:"activator",label:"Date of Birth(DOB)","prepend-icon":"event",readonly:""},on:{click:function(e){return t.dismiss()}},slot:"activator",model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),t._v(" "),s("v-date-picker",{attrs:{title:"Date of Birth(DOB)","no-title":"",scrollable:"",actions:""},scopedSlots:t._u([{key:"default",fn:function(t){t.save_dob,t.cancel_dob}}]),model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Adhar No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.adhar,callback:function(e){t.adhar=e},expression:"adhar"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Blood Group"},on:{focus:function(e){return t.dismiss()}},model:{value:t.blood_group,callback:function(e){t.blood_group=e},expression:"blood_group"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md1:""}},[s("v-text-field",{attrs:{label:"House"},on:{focus:function(e){return t.dismiss()}},model:{value:t.house,callback:function(e){t.house=e},expression:"house"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Father Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_name,callback:function(e){t.father_name=e},expression:"father_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Email"},on:{focus:function(e){return t.dismiss()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Father Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_mobile,callback:function(e){t.father_mobile=e},expression:"father_mobile"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Mother Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_name,callback:function(e){t.mother_name=e},expression:"mother_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[s("v-text-field",{attrs:{label:"Mother Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_mobile,callback:function(e){t.mother_mobile=e},expression:"mother_mobile"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Father Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_occupation,callback:function(e){t.father_occupation=e},expression:"father_occupation"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Mother Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_occupation,callback:function(e){t.mother_occupation=e},expression:"mother_occupation"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:"","justify-space-between":""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.transport,callback:function(e){t.transport=e},expression:"transport"}},[s("v-radio",{attrs:{label:"Bus User",value:"bus_user"}}),t._v(" "),s("v-radio",{attrs:{label:"Walker",value:"walker"}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Bus Route"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_rout,callback:function(e){t.bus_rout=e},expression:"bus_rout"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-text-field",{attrs:{label:"Bus Stop"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_stop,callback:function(e){t.bus_stop=e},expression:"bus_stop"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md10:""}},[s("v-text-field",{attrs:{label:"Address"},on:{focus:function(e){return t.dismiss()}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"info"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n              Update Student\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs8:"",row:"",wrap:"","justify-space-around":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.update_student()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]},T=s("VU/8")(E,P,!1,null,null,null).exports,N={data:function(){return{show_search_criteria:!0,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],alert_type:"",alert_message:"",showDismissibleAlert:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=s.concat("/academics/class_list/",e,"/");i.a.get(a).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var n=s.concat("/academics/section_list/",e,"/");i.a.get(n).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),e){var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,n=(this.$store.getters.get_school_name,s.concat("/exam/result_sheet/"));i.a.get(n,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer",params:{school_id:a,the_class:this.the_class,section:this.section}}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var n="Result_Sheet_"+t.the_class+"-"+t.section+".xlsx";a.setAttribute("download",n),document.body.appendChild(a),a.click(),confirm("Result sheet downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(" Download Result Analysis Sheets")]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"info"},on:{click:[function(e){t.loader="loading"},function(e){return t.search()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1):t._e(),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}},[t.show_student_list?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.students},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){return t.showAlert(e.item)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.reg_no))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.the_class))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.parent))])])]}}],null,!1,3051637608)}):t._e()],1)],1)],1)},staticRenderFns:[]};var M=s("VU/8")(N,R,!1,function(t){s("IXiG")},null,null).exports,F={data:function(){return{coming_from:"",heading:"",whole_class:!1,show_search_criteria:!0,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],student:"",student_list:[],ip:"",school_id:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,waiting:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this;this.coming_from=this.$store.getters.get_coming_from,"performance_analysis"==this.coming_from&&(this.heading="Download Performance Analysis Sheet(s)"),"mark_sheet"==this.coming_from&&(this.heading="Download Mark Sheet(s)"),this.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/academics/class_list/",this.school_id,"/");i.a.get(e).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var s=t.ip.concat("/academics/section_list/",this.school_id,"/");i.a.get(s).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{get_student_list:function(){var t=this;if(""!=this.the_class&&""!=this.section){var e=t.ip.concat("/student/list/",this.school_id,"/",this.the_class,"/",this.section,"/");i.a.get(e).then(function(e){t.student_list=e.data;for(var s=0;s<e.data.length;s++)t.student_list[s]=e.data[s].fist_name+" "+e.data[s].last_name+" ("+e.data[s].student_erp_id+")";console.log(t.student_list)}).catch(function(t){console.log(t)})}},download:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),this.whole_class||""!=this.student||(this.alert_message="Please Select a Student",this.showDismissibleAlert=!0,e=!1),e){this.waiting=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,n=(this.$store.getters.get_school_name,t.the_class),o=t.section,r=t.student;""==r&&(r="na");var l=this.whole_class,c="";"performance_analysis"==this.coming_from&&(c=s.concat("/analytics/performance_sheet/")),"mark_sheet"==this.coming_from&&(c=s.concat("/exam/academics/prepare_results/",a,"/",n,"/",o)),console.log("url=",c),i.a.get(c,{params:{school_id:a,the_class:n,section:o,student:r,selected_student:r,whole_class:l}}).then(function(e){t.waiting=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var n="";l&&(n=t.the_class+"-"+t.section+"_Performance_Analysis.pdf"),""!=r&&(n=r+"_Performance_Analysis.pdf"),a.setAttribute("download",n),document.body.appendChild(a),a.click(),confirm("Analysis sheet downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md1:""}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md3:""}},[s("v-select",{attrs:{items:t.student_list,label:"Student",disabled:t.whole_class},on:{focus:function(e){return t.dismiss()}},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-checkbox",{attrs:{label:"Whole Class: "+t.whole_class.toString()},on:{change:function(e){t.dismiss(),t.student=""}},model:{value:t.whole_class,callback:function(e){t.whole_class=e},expression:"whole_class"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"info"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1):t._e(),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],2)],1)},staticRenderFns:[]};var O=s("VU/8")(F,U,!1,function(t){s("s1i/")},null,null).exports,j={data:function(){return{coming_from:"",heading:"",whole_class:!1,show_search_criteria:!0,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],student:"",student_list:[],ip:"",school_id:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,waiting:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this;this.coming_from=this.$store.getters.get_coming_from,"performance_analysis"==this.coming_from&&(this.heading="Download Performance Analysis Sheet(s)"),"mark_sheet"==this.coming_from&&(this.heading="Download Mark Sheet(s)"),this.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/academics/class_list/",this.school_id,"/");i.a.get(e).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var s=t.ip.concat("/academics/section_list/",this.school_id,"/");i.a.get(s).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{get_student_list:function(){var t=this;if(""!=this.the_class&&""!=this.section){var e=t.ip.concat("/student/list/",this.school_id,"/",this.the_class,"/",this.section,"/");i.a.get(e).then(function(e){t.student_list=e.data;for(var s=0;s<e.data.length;s++)t.student_list[s]=e.data[s].fist_name+" "+e.data[s].last_name+" ("+e.data[s].student_erp_id+")";console.log(t.student_list)}).catch(function(t){console.log(t)})}},download:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),this.whole_class||""!=this.student||(this.alert_message="Please Select a Student",this.showDismissibleAlert=!0,e=!1),e){this.waiting=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,n=(this.$store.getters.get_school_name,t.the_class),o=t.section,r=t.student;""==r&&(r="na");var l=this.whole_class,c="";"performance_analysis"==this.coming_from&&(c=s.concat("/analytics/performance_sheet/")),"mark_sheet"==this.coming_from&&(c=s.concat("/exam/term_results/academics/prepare_results/",a,"/",n,"/",o)),console.log("url=",c),i.a.get(c,{params:{school_id:a,the_class:n,section:o,student:r,selected_student:r,whole_class:l}}).then(function(e){t.waiting=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var n="";l&&(n=t.the_class+"-"+t.section+"_Mark_Sheet.pdf"),""!=r&&(n=r+"_Mark_Sheet.pdf"),a.setAttribute("download",n),document.body.appendChild(a),a.click(),confirm("Analysis sheet downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md1:""}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md3:""}},[s("v-select",{attrs:{items:t.student_list,label:"Student",disabled:t.whole_class},on:{focus:function(e){return t.dismiss()}},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md2:""}},[s("v-checkbox",{attrs:{label:"Whole Class: "+t.whole_class.toString()},on:{change:function(e){t.dismiss(),t.student=""}},model:{value:t.whole_class,callback:function(e){t.whole_class=e},expression:"whole_class"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"info"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1):t._e(),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],2)],1)},staticRenderFns:[]};var L=s("VU/8")(j,B,!1,function(t){s("HK7u")},null,null).exports,W=s("Xxa5"),I=s.n(W),q=s("exGp"),G=s.n(q),H={data:function(){return{rules:[function(t){return t.length<=400||"Max 400 characters"}],class_list:[],all_classes:!0,selected_classes:[],selected_staff:[],final_recepients:[],staff:["Teachers","Staff"],recepients:[],message:"",good_to_send:!0,alert_message:"",showDismissibleAlert:!1,alert_type:"error",confirm:!1,caption:"",loader:"",loading:"",isSaving:!1,image_included:!1,uploadFieldName:"",selectedFile:null,image:null,waiting:!1}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip.concat("/academics/class_list/",e,"/");i.a.get(s).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard}).catch(function(t){console.log(t)})},methods:{add_recepient:function(t){},onFileChanged:function(t){var e=t.target.files[0];this.selectedFile=e,this.image_included=!0},validate:function(){this.final_recepients=this.selected_classes.concat(this.selected_staff),console.log(this.final_recepients),this.good_to_send=!0,""==this.message&&(this.showDismissibleAlert=!0,this.alert_message="Message is empty!",this.good_to_send=!1),this.message.length>400&&(this.showDismissibleAlert=!0,this.alert_message="Message is too long. Please restrict to 400 characters max",this.good_to_send=!1),0==this.final_recepients.length&&(this.showDismissibleAlert=!0,this.alert_message="No recepient selected (Class, Teacher, or Staff)",this.good_to_send=!1),this.good_to_send&&(this.caption="Please Confirm sending Bulk Messages",this.alert_message="Are you sure you want to send this message to selected Recepients? ",this.confirm=!0)},send_message:function(){var t=this;return G()(I.a.mark(function e(){var s,a,n,o,r,l,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=t).waiting=!0,t.confirm=!1,t.final_recepients=t.selected_classes.concat(t.selected_staff),console.log(t.final_recepients),a=t.$store.getters.get_server_ip,n=t.$store.getters.get_school_id,o=t.$store.getters.get_user_name,r=a.concat("/operations/send_bulk_sms/"),(l=new FormData).set("from_device",!1),l.set("user",o),l.set("school_id",n),l.set("message_text",t.message),l.set("whole_school","undetermined"),l.set("classes_array",t.final_recepients),l.set("image_included",t.image_included),1==t.image_included&&(l.append("file",t.selectedFile),l.set("image_name",t.selectedFile.name)),confirm("Messages Sent. \nWill be delivered in about an hour's time.\n"),s.waiting=!1,s.message="",s.selected_classes=[],s.selected_staff=[],s.$refs.file_input.value=null,e.prev=24,e.next=27,i.a.post(r,l);case 27:c=e.sent,console.log(c),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(24),console.error(e.t0);case 34:case"end":return e.stop()}},e,t,[[24,31]])}))()},select_all_classes:function(t){t?(this.all_classes=!1,this.selected_classes=this.class_list.slice(),console.log("selected_classes",this.selected_classes)):(this.all_classes=!0,this.selected_classes=[],console.log("selected_classes",this.selected_classes))},dismiss:function(){this.showDismissibleAlert=!1},cancel:function(){this.message="",this.selected_classes=null,this.selected_staff=null,this.recepients=null,this.image_included=!1,this.$refs.file_input.value=null}}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",{attrs:{enctype:"multipart/form-data"}},[s("v-container",{attrs:{fluid:""}},[s("h2",{attrs:{id:"h2"}},[t._v("Send Bulk SMS (Broadcast)")]),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md10:""}},[s("h3",{attrs:{id:"h3"}},[t._v("Compose Message")]),t._v(" "),s("p"),t._v(" "),s("v-textarea",{attrs:{label:"Message",filled:"",rules:t.rules,"auto-grow":!0,"no-resize":!1,solo:!0,counter:"400"},on:{focus:function(e){return t.dismiss()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-container",[s("v-flex",{attrs:{xs12:"",md12:""}},[s("h3",[t._v("Select Recepients")]),t._v(" "),s("div",{staticClass:"mr-4 ml-4 whiteback userGroupHeight"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-checkbox",{attrs:{light:"",label:"All Classes"},on:{change:[t.select_all_classes,function(e){return t.dismiss()}]}})],1)],1)]),t._v(" "),s("v-flex",{attrs:{xs12:"",md12:""}},[s("div",{staticClass:"mr-4 ml-4 whiteback userGroupHeight"},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.class_list,function(e){return s("v-flex",{key:e},[s("v-checkbox",{attrs:{label:e,value:e,disabled:!t.all_classes},on:{focus:function(e){return t.dismiss()},change:function(e){t.add_recepient,t.dismiss()}},model:{value:t.selected_classes,callback:function(e){t.selected_classes=e},expression:"selected_classes"}})],1)}),1)],1)]),t._v(" "),s("v-flex",{attrs:{xs12:"",md12:""}},[s("div",{staticClass:"mr-4 ml-4 whiteback userGroupHeight"},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.staff,function(e){return s("v-flex",{key:e,attrs:{xs2:""}},[s("v-checkbox",{attrs:{light:"",label:e,value:e},on:{change:function(e){return t.dismiss()}},model:{value:t.selected_staff,callback:function(e){t.selected_staff=e},expression:"selected_staff"}})],1)}),1)],1)])],1)],1),t._v(" "),s("h3",[t._v("Optional - Attach file (Allowed file types - Image jpeg or png, PDF)")]),t._v(" "),s("v-flex",{attrs:{xs6:"",md7:""}},[s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"mr-5 ml0 whiteback userGroupHeight"},[s("v-layout",{attrs:{"row-wrap":""}},[s("input",{ref:"file_input",staticClass:"input-file",attrs:{type:"file",name:t.uploadFieldName,disabled:t.isSaving,accept:"image/*, .pdf"},on:{change:t.onFileChanged}})])],1)])],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{color:"info"},on:{click:function(e){return t.validate()}}},[t._v("\n              Send Message\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)]),t._v(" "),s("v-btn",{attrs:{color:"info"},on:{click:function(e){return t.cancel()}}},[t._v("\n              Cancel\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],2)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.send_message()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var V=s("VU/8")(H,z,!1,function(t){s("RigO")},null,null).exports;a.default.use(d.a);var K=new d.a({routes:[{path:"/dashboard",name:"Dashboard",component:m},{path:"/student_search",name:"StudentSearch",component:x},{path:"/fee_payment",name:"FeePayment",component:v},{path:"/correction",name:"Coprrection",component:S},{path:"/add_student",name:"add_student",component:C},{path:"/update_student",name:"update_student",component:T},{path:"/class_search",name:"class_search",component:M},{path:"/performance_analysis",name:"performance_analysis",component:O},{path:"/mark_sheet",name:"mark_sheet",component:L},{path:"/bulk_sms",name:"bulk_sms",component:V}]}),Y=s("uUlv");a.default.use(Y.a);var Q=new Y.a.Store({state:{server_ip:"https://www.classupclient.com",logged_status:!1,logged_user:"unknown",user_name:"unknown",user_type:"unknown",school_id:0,student_id:"unknown",student_name:"unknown",student_class:"unknown",parent:"unknown",school_name:"ClassUp",coming_from:"unknown",adm_fee:!1},mutations:{SET_LOGGED_STATUS:function(t,e){t.logged_status=e},SET_USER:function(t,e){t.logged_user=e},SET_USER_NAME:function(t,e){t.user_name=e},SET_USER_TYPE:function(t,e){t.user_type=e},SET_ID:function(t,e){t.school_id=e},SET_SCHOOL_NAME:function(t,e){t.school_name=e},SET_STUDENT_ID:function(t,e){t.student_id=e},SET_STUDENT_NAME:function(t,e){t.student_name=e},SET_STUDENT_CLASS:function(t,e){t.student_class=e},SET_PARENT:function(t,e){t.parent=e},SET_ADM_FEE:function(t,e){t.adm_fee=e},SET_COMING_STATUS:function(t,e){t.coming_from=e}},actions:{set_logged_status:function(t,e){t.commit("SET_LOGGED_STATUS",e)},set_user:function(t,e){t.commit("SET_USER",e)},set_user_name:function(t,e){t.commit("SET_USER_NAME",e)},set_user_type:function(t,e){t.commit("SET_USER_TYPE",e)},set_id:function(t,e){t.commit("SET_ID",e)},set_school_name:function(t,e){t.commit("SET_SCHOOL_NAME",e)},set_student_id:function(t,e){t.commit("SET_STUDENT_ID",e)},set_student_name:function(t,e){t.commit("SET_STUDENT_NAME",e)},set_student_class:function(t,e){t.commit("SET_STUDENT_CLASS",e)},set_parent:function(t,e){t.commit("SET_PARENT",e)},set_adm_fee:function(t,e){t.commit("SET_ADM_FEE",e)},set_coming_status:function(t,e){t.commit("SET_COMING_STATUS",e)}},getters:{get_logged_status:function(t){return t.logged_status},get_logged_user:function(t){return t.logged_user},get_user_name:function(t){return t.user_name},get_user_type:function(t){return t.user_type},get_school_id:function(t){return t.school_id},get_school_name:function(t){return t.school_name},get_server_ip:function(t){return t.server_ip},get_student_id:function(t){return t.student_id},get_student_name:function(t){return t.student_name},get_student_class:function(t){return t.student_class},get_parent:function(t){return t.parent},get_adm_fee:function(t){return t.adm_fee},get_coming_from:function(t){return t.coming_from}}}),X=s("3EgV"),Z=s.n(X),J=(s("7zck"),s("SIdw")),tt=s.n(J);a.default.use(tt.a),a.default.use(Z.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:K,store:Q,components:{App:_},template:"<App/>"})},RigO:function(t,e){},ZkYA:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_0_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);__webpack_exports__.a={name:"FeePayment",data:function(){return{school_id:"",student_id:"",student_erp_id:"",the_class:"",student_name:"",parent:"",alert_message:"",heads:[],headers:[{text:"Head",align:"left",sortable:!1,value:"name"},{text:"Amount",value:"reg_no"},{text:"Discount (%)",value:0},{text:"Dicsount (Amount)",value:0},{text:"Net payable",value:0}],due_till_now:0,transport_fee:0,paid_till_date:0,dues:0,delay:"No Delay",late_fee:0,one_time:0,discount_given:0,waiver:0,actual_paid:0,payment_mode:"",cheque_no:"N/A",bank:"N/A",showDismissibleAlert:!1,alert_type:"error",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"}}},computed:{previous_due:function previous_due(){var self=this;return this.dues+eval(this.due_till_now)},due_this_term:function due_this_term(){var self=this,amt=0;console.log(self.heads);for(var i=0;i<self.heads.length;i++)console.log("head value = ",self.heads[i].head),"N/A"!=self.heads[i].amount&&(amt+=eval(self.heads[i].net_payable));return console.log("amount as computed = ",amt),amt},net_payable:function net_payable(){var self=this;return this.due_this_term+eval(self.late_fee)+eval(self.one_time)+eval(this.previous_due)-this.waiver-this.paid_till_date},balance:function(){return this.net_payable-this.actual_paid}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_student_id;this.student_name=this.$store.getters.get_student_name,this.parent=this.$store.getters.get_parent;var a=this.$store.getters.get_server_ip.concat("/fee_processing/fee_details/");__WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(a,{params:{school_id:e,student_id:s}}).then(function(e){var s;for(t.student_erp_id=e.data.reg_no,t.the_class=e.data.current_class,s=0;s<e.data.heads.length;s++){var a={};"N/A"!=e.data.heads[s].amount&&(a.head=e.data.heads[s].head,a.amount=e.data.heads[s].amount,a.discount_perc=0,a.discount_amt=0,a.net_payable=e.data.heads[s].amount,t.heads.push(a),"Transportation Fee"==a.head&&(t.transport_fee=a.amount,console.log("transportation fee = ",t.transport_fee)))}t.due_till_now=e.data["Due till now"],console.log(t.due_till_now),t.dues=e.data["Previous Outstanding"],t.paid_till_date=e.data["Paid till date"],t.delay=e.data["Days Delay"]+" Days/"+e.data["Weeks Delay"]+" Weeks"}).catch(function(t){console.log(t)})},methods:{click:function(){},apply_discount:function(t){console.log("inside apply_discount"),console.log("discount to be given = ",t.discount_perc);var e=this.heads.indexOf(t),s=this.heads[e].amount;console.log("original amount = ",s);var a=s*t.discount_perc/100;this.heads[e].discount_amt=a,console.log("discount = ",a);var n=s-a;console.log("discounted amount = ",n),this.heads[e].net_payable=n,this.discount_given+=a},update_fee:function(t){console.log("inside update_fee");var e=this.heads.indexOf(t);this.heads[e].net_payable=t.amount},validate_fee:function(){if(0==this.actual_paid)return this.alert_message="Please enter actual fees paid",void(this.showDismissibleAlert=!0);if(""==this.payment_mode)return this.alert_message="Please select a Payment mode",void(this.showDismissibleAlert=!0);if("cheque"==this.payment_mode){if(console.log("payment mode cheque"),"N/A"==this.cheque_no||""==this.cheque_no)return this.cheque_no="",this.alert_message="Please enter cheque number",void(this.showDismissibleAlert=!0);if("N/A"==this.bank||""==this.bank)return this.bank="",this.alert_message="Please enter Bank Name",void(this.showDismissibleAlert=!0)}if(this.actual_paid<this.net_payable){console.log("short fee case");var t=this.balance;this.caption="Short Fees Alert",this.alert_message="Fees paid is less than Net payable by "+t,this.alert_message+=". This will be added to the Balance. Do you want to proceed?",this.confirm=!0}if(this.actual_paid>this.net_payable){console.log("excess fee case");var e=this.actual_paid-this.net_payable;this.caption="Excess Fees Alert",this.alert_message="Fees paid is more than Net payable by "+e,this.alert_message+=". This will be adjusted in future payments. Do you want to proceed?",this.confirm=!0}this.actual_paid==this.net_payable&&(this.caption="Confirm fee submission",this.alert_message="Are you sure you want to accept this fee? ",this.confirm=!0)},close:function(){console.log("Dialog closed")},fee_history:function(){var t=this,e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=this.student_erp_id,n=e.concat("/fee_processing/fee_history_download/?school_id=",s,"&reg_no=",a);__WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(n,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var n=t.$store.getters.get_student_name+"_fee_history.xlsx";a.setAttribute("download",n),document.body.appendChild(a),a.click(),t.waiting=!1,confirm("Fee Payment History Downloaded")}).catch(function(t){console.log(t)}).then(function(){})},process_fee:function(){var t=this;console.log("inside process fees"),this.confirm=!1;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=e.concat("/fee_processing/process_fee/",s,"/");__WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(a,{reg_no:this.student_erp_id,heads:this.heads,due_this_term:this.due_this_term,previous_due:this.previous_due,fine:this.late_fee,one_time:this.one_time,discount:this.discount_given,waiver:this.waiver,net_payable:this.net_payable,actual_paid:this.actual_paid,balance:this.balance,mode:this.payment_mode,cheque_no:this.cheque_no,bank:this.bank}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var n=t.student_name+" ("+t.student_erp_id+")";n+="_fee_receipt.pdf",a.setAttribute("download",n),document.body.appendChild(a),a.click(),confirm("Fees successfully deposited"),t.$router.replace("/student_search")}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}}},eM2Q:function(t,e){},j7Bz:function(t,e){},"s1i/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.37fa88933226b2037b3b.js.map