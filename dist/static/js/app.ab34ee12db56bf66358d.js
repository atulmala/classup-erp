webpackJsonp([1],{"/zTY":function(t,e){},"3MOt":function(t,e){},"6RBv":function(t,e){},"7zck":function(t,e){},C2rv:function(t,e){},ELak:function(t,e){},EueY:function(t,e){},HmbM:function(t,e){},IJxu:function(t,e){},"JB+8":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("Dd8w"),o=s.n(i),n=s("mtWM"),r=s.n(n),l=s("NYxO"),c={name:"HelloWorld",data:function(){return{msg:"Welcome to ClassUp",input:{user:"",password:""},show_it:!0,alert_type:"",alert_message:"",response:"",showDismissibleAlert:!1}},methods:{dismiss:function(){this.showDismissibleAlert=!1},login:function(){var t=this;if(""!=this.input.user&&""!=this.input.password){console.log("username and password have been specified");var e=this.$store.getters.get_server_ip;console.log(e);var s=e.concat("/auth/login/");r()({method:"POST",url:s,data:this.input}).then(function(e){t.response=e.data,console.log(t.response),"success"==e.data.outcome?(t.show_it=!1,t.alert_type="success",t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.$store.dispatch("set_logged_status",!0),t.$store.dispatch("set_user",t.input.user),t.$store.dispatch("set_user_name",e.data.user_name),t.$store.dispatch("set_user_type",e.data.user_type),t.$store.dispatch("set_school_name",e.data.school_name),t.$store.dispatch("set_id",e.data.school_id),t.$router.push("/dashboard")):(t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.alert_type="error",t.$store.dispatch("set_logged_status",!1),t.$store.dispatch("set_user","unknown"),t.$store.dispatch("set_user_name",""),t.$store.dispatch("set_user_type","unknown"),t.$store.dispatch("set_school_name","ClassUp"),t.$store.dispatch("set_id",0))},function(e){t.alert_type="error",t.alert_message="an error occured in contacting the server",console.log(t.alert_message),console.error(e.response),t.$emit("authenticated",!1)})}else this.alert_type="error",this.alert_message="A username and password must be present",console.log(this.alert_message),this.showDismissibleAlert=!0,this.dismissCountDown=this.dismissSecs},get_logged_status:function(){return this.$store.getters.get_logged_status}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show_it?s("v-app",{attrs:{id:"hello"}},[s("div",{staticClass:"hello"},[s("v-content",[s("v-container",[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("img",{attrs:{src:"https://classup2.s3.us-east-2.amazonaws.com/static/prod/images/ClassUp_mobile_logo.png"}}),t._v(" "),s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Please Login")]),t._v(" "),s("v-card",{staticClass:"elevation-12"},[s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{"prepend-icon":"person",label:"Login",type:"text"},on:{focus:function(e){return t.dismiss()}},model:{value:t.input.user,callback:function(e){t.$set(t.input,"user",e)},expression:"input.user"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"lock",label:"Password",id:"password",type:"password"},on:{focus:function(e){return t.dismiss()}},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}})],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{on:{click:function(e){return t.login()}}},[t._v("Login")])],1)],1),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1)],1)]):t._e()},staticRenderFns:[]};var _={name:"App",components:{hello:s("VU/8")(c,d,!1,function(t){s("tiUG")},"data-v-3686e2a9",null).exports},data:function(){return{user_type:"",waiting:!1,drawer:{open:!0,clipped:!1,fixed:!1,permanent:!1,mini:!1},toolbar:{fixed:!0,clippedLeft:!1},footer:{fixed:!0,clippedLeft:!0},communication_items:[{icon:"mdi-bullhorn",title:"Send Bulk Message",action:this.bulk_message},{icon:"mdi-cloud-download",title:"Download Monthly Communication Report",action:this.monthly_communication},{icon:"mdi-cloud-download-outline",title:"Download Parent Communication Report",action:this.parent_communication}],time_table_items:[{icon:"mdi-table-edit",title:"Setup Time Table",action:this.setup_time_table},{icon:"mdi-alpha-p-circle",title:"Teacher Attendance",action:this.teacher_attendance}],teacher_management_items:[{icon:"mdi-account-plus-outline",title:"Add Teacher",action:this.add_teacher},{icon:"mdi-account-edit-outline",title:"Update Teacher",action:this.update_teacher},{icon:"mdi-google-classroom",title:"Set Class Teacher",action:this.set_class_teacher},{icon:"mdi-account-remove-outline",title:"Delete Teacher",action:this.delete_teacher}],student_management_items:[{icon:"mdi-account-plus",title:"Add Student",action:this.add_student},{icon:"mdi-account-edit",title:"Update Student",action:this.update_student},{icon:"mdi-account-remove",title:"Delete Student",action:this.delete_student},{icon:"mdi-file-download",title:"Download Student List",action:this.download_student_list}],exam_items:[{icon:"mdi-calendar-alert",title:"Unscheduled Test Report",action:this.unscheduled_test_report},{icon:"mdi-chart-histogram",title:"Result Analysis Sheets",action:this.class_search},{icon:"mdi-arrow-up-down-bold",title:"Student Promote/Detain",action:this.exam_results},{icon:"mdi-alpha-m-box",title:"Mark Sheets",action:this.mark_sheet},{icon:"mdi-chart-line",title:"Performance Sheets",action:this.performance_analysis}],fee_items:[{icon:"mdi-transfer-right",title:"Take Fee",action:this.student_search},{icon:"mdi-cancel",title:"Cancel Fee",action:this.correction},{icon:"mdi-file-remove",title:"Defaulter Report",action:this.defaulter_report}],teacher_menu:[{icon:"mdi-alpha-p-circle-outline",title:"Conduct Attendance",action:this.student_attendance},{icon:"mdi-download",title:"Download Monthly Attendance",action:this.class_monthly_attendance},{icon:"mdi-message-alert-outline",title:"Communicate with Parents",action:this.communicate_with_parents},{icon:"mdi-message-text-clock",title:"Message History",action:this.teacher_message_history},{icon:"mdi-timetable",title:"Schedule Test",action:this.schedule_test},{icon:"mdi-marker",title:"Test Marks Entry",action:this.test_marks_entry}],right:null}},mounted:function(){this.user_type=this.$store.getters.get_user_type,console.log("user_type = "+this.user_type)},beforeUpdate:function(){self.user_type=this.$store.getters.get_user_type,console.log("user_type = "+self.user_type)},updated:function(){self.user_type=this.$store.getters.get_user_type,console.log("user_type = "+self.user_type)},methods:{toggleDrawer:function(){this.drawer.permanent?(this.drawer.permanent=!this.drawer.permanent,this.drawer.clipped=!0,this.toolbar.clippedLeft=!0):this.drawer.open=!this.drawer.open},logout:function(){this.drawer.open=!1,this.$store.dispatch("set_logged_status",!1),this.$store.dispatch("set_user","unknown"),this.$store.dispatch("set_user_type","unknown"),this.$store.dispatch("set_school_name","ClassUp"),this.$store.dispatch("set_id",0),this.$router.replace("/")},unscheduled_test_report:function(){this.$store.dispatch("set_coming_status","unscheduled_test_report"),this.$router.replace("/unscheduled_test_report")},teacher_attendance:function(){this.$store.dispatch("set_coming_status","teacher_attendance"),this.$router.replace("/teacher_attendance")},setup_time_table:function(){this.$store.dispatch("set_coming_status","setup_time_table"),this.$router.replace("/setup_time_table")},delete_teacher:function(){this.$store.dispatch("set_coming_status","delete_teacher"),this.$router.replace("/delete_teacher")},set_class_teacher:function(){this.$store.dispatch("set_coming_status","set_class_teacher"),this.$router.replace("/set_class_teacher")},update_teacher:function(){this.$store.dispatch("set_coming_status","update_teacher"),this.$router.replace("/update_teacher")},add_teacher:function(){this.$store.dispatch("set_coming_status","add_teacher"),this.$router.replace("/add_teacher")},teacher_message_history:function(){this.$store.dispatch("set_coming_status","teacher_message_history"),this.$router.replace("/teacher_message_history")},parent_communication:function(){this.$store.dispatch("set_coming_status","parent_communication"),this.$router.replace("/parent_communication")},monthly_communication:function(){this.$store.dispatch("set_coming_status","monthly_communication"),this.$router.replace("/monthly_communication")},schedule_test:function(){this.$store.dispatch("set_coming_status","schedule_test"),this.$router.replace("/schedule_test")},student_attendance:function(){this.$store.dispatch("set_coming_status","class_attendance"),this.$router.replace("/student_attendance")},communicate_with_parents:function(){this.$store.dispatch("set_coming_status","send_message_to_parents"),this.$router.replace("/send_message_to_parents")},test_marks_entry:function(){this.$store.dispatch("set_coming_status","show_test_list"),this.$router.replace("/show_test_list")},class_monthly_attendance:function(){this.$store.dispatch("set_coming_status","class_monthly_attendance"),this.$router.replace("/class_monthly_attendance")},bulk_message:function(){this.$store.dispatch("set_coming_status","bulk_sms"),this.$router.replace("/bulk_sms")},class_search:function(){this.$store.dispatch("set_coming_status","class_search"),this.$router.replace("/class_search")},mark_sheet:function(){this.$store.dispatch("set_coming_status","mark_sheet"),this.$router.replace("/mark_sheet")},exam_results:function(){this.$store.dispatch("set_coming_status","exam_results"),this.$router.replace("/exam_results")},performance_analysis:function(){this.$store.dispatch("set_coming_status","performance_analysis"),this.$router.replace("/performance_analysis")},student_search:function(){this.$store.dispatch("set_coming_status","fee_payment"),this.$router.replace("/student_search")},add_student:function(){this.$store.dispatch("set_coming_status","add_student"),this.$router.replace("/add_student")},update_student:function(){this.$store.dispatch("set_coming_status","update_student"),this.$router.replace("/student_search")},delete_student:function(){this.$store.dispatch("set_coming_status","delete_student"),this.$router.replace("/student_search")},download_student_list:function(){this.$store.dispatch("set_coming_status","download_student_list"),this.$router.replace("/download_student_list")},defaulter_report:function(){var t=this;alert("Report will be downloaded. This can take some time"),t.waiting=!0;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=e.concat("/fee_processing/defaulter_list/",s,"/");r.a.get(a,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;a.setAttribute("download","fee_defaulter_report.xlsx"),document.body.appendChild(a),a.click(),t.waiting=!1,confirm("Fee Defaulter Report downloaded")}).catch(function(t){console.log(t)}).then(function(){})},correction:function(){this.$store.dispatch("set_coming_status","correction"),this.$router.replace("/student_search")}},computed:o()({},Object(l.a)("user_type",["school_admin","non_admin"]),{get_title:function(){return this.$store.getters.get_school_name},get_user_name:function(){return this.$store.getters.get_user_name},get_logged_status:function(){return this.$store.getters.get_logged_status},get_user_type:function(){return this.$store.getters.get_user_type}})},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("div",{attrs:{id:"app"}},[t.get_logged_status?s("v-app-bar",{staticClass:"my-toolbar",attrs:{app:"",color:"light-green",fixed:t.toolbar.fixed,"clipped-left":t.toolbar.clippedLeft}},[s("v-app-bar-nav-icon",{attrs:{disabled:!t.get_logged_status},on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}),t._v(" "),s("v-toolbar-title",[t._v(t._s(t.get_title))]),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",[s("v-chip",{staticClass:"ma-1",attrs:{color:"indigo",large:"","text-color":"white"}},[s("v-avatar",[s("v-icon",[t._v("account_circle")])],1),t._v("\n          "+t._s(t.get_user_name)+"\n        ")],1),t._v(" "),s("v-btn",{attrs:{text:"",disabled:!t.get_logged_status},on:{click:function(e){return t.logout()}}},[t._v("Log Out")])],1)],1):t._e(),t._v(" "),t.get_logged_status?s("v-navigation-drawer",{attrs:{app:"",width:325,clipped:t.drawer.clipped,fixed:t.drawer.fixed,permanent:t.drawer.permanent,"mini-variant":t.drawer.mini},model:{value:t.drawer.open,callback:function(e){t.$set(t.drawer,"open",e)},expression:"drawer.open"}},[s("v-list",{staticClass:"text-left",attrs:{nav:"",rounded:""}},[s("v-list-item",{attrs:{color:"purple"}},[s("v-list-item-icon",[s("v-icon",[t._v("mdi-home")])],1),t._v(" "),s("v-list-item-title",[t._v("Home")])],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{dark:""}}),t._v(" "),s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:"school_admin"===t.get_user_type,expression:"get_user_type === 'school_admin'"}],attrs:{"prepend-icon":"",value:"true",color:"#283593"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-message")])],1),t._v(" "),s("v-list-item-title",[t._v("Communications")])]},proxy:!0}],null,!1,4046155800)},[t._v(" "),t._l(t.communication_items,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-divider",{staticClass:"mx-4"}),t._v(" "),s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:"school_admin"==t.get_user_type,expression:"get_user_type == 'school_admin'"}],attrs:{"prepend-icon":"",value:"true",color:"#9575CD"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-timetable")])],1),t._v(" "),s("v-list-item-title",[t._v("Time Table & Arrangement ")])]},proxy:!0}],null,!1,3208172984)},[t._v(" "),t._l(t.time_table_items,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-divider",{staticClass:"mx-4"}),t._v(" "),s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:"school_admin"==t.get_user_type,expression:"get_user_type == 'school_admin'"}],attrs:{"prepend-icon":"",value:"true",color:"#795548"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-teach")])],1),t._v(" "),s("v-list-item",[s("v-list-item-title",[t._v("Teacher Management")])],1)]},proxy:!0}],null,!1,1647008623)},[t._v(" "),t._l(t.teacher_management_items,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-divider",{staticClass:"mx-4"}),t._v(" "),s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:"school_admin"==t.get_user_type,expression:"get_user_type == 'school_admin'"}],attrs:{"prepend-icon":"",value:"true",color:"#1A237E"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-school")])],1),t._v(" "),s("v-list-item",[s("v-list-item-title",[t._v("Student Management")])],1)]},proxy:!0}],null,!1,522418469)},[t._v(" "),t._l(t.student_management_items,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-divider",{staticClass:"mx-4"}),t._v(" "),s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:"school_admin"==t.get_user_type,expression:"get_user_type == 'school_admin'"}],attrs:{"prepend-icon":"",value:"true",color:"purple"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-ab-testing")])],1),t._v(" "),s("v-list-item",[s("v-list-item-title",[t._v("Exam & Results")])],1)]},proxy:!0}],null,!1,3742715710)},[t._v(" "),t._l(t.exam_items,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-divider",{staticClass:"mx-4"}),t._v(" "),s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:"school_admin"==t.get_user_type,expression:"get_user_type == 'school_admin'"}],attrs:{"prepend-icon":"",value:"true",color:"teal"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-currency-inr")])],1),t._v(" "),s("v-list-item",[s("v-list-item-title",[t._v("Fees Management")])],1)]},proxy:!0}],null,!1,1707635954)},[t._v(" "),t._l(t.fee_items,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2),t._v(" "),s("v-divider",{staticClass:"mx-4"}),t._v(" "),"non_admin"==t.get_user_type?s("v-list-group",{attrs:{"prepend-icon":"",value:"true",color:"blue"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-item-icon",[s("v-icon",[t._v("mdi-teach")])],1),t._v(" "),s("v-list-item",[s("v-list-item-title",[t._v("Teacher's Corner")])],1)]},proxy:!0}],null,!1,231992623)},[t._v(" "),t._l(t.teacher_menu,function(e){return s("v-list-item",{key:e.title,on:{click:e.action}},[s("v-list-item-action",[s("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})],2):t._e()],1)],1):t._e(),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),!1===t.get_logged_status?s("div",[s("hello")],1):t._e(),t._v(" "),s("v-footer",{attrs:{app:"",fixed:t.footer.fixed,"clipped-left":t.footer.clippedLeft}},[s("span",{staticClass:"caption mx-3"},[t._v("© 2019, EmergeTech Mobile Products & Services Pvt Ltd")])]),t._v(" "),s("router-view")],2)])},staticRenderFns:[]};var h=s("VU/8")(_,u,!1,function(t){s("C2rv")},"data-v-0ddcaa7b",null).exports,m=s("/ocq"),v={render:function(){var t=this.$createElement;return(this._self._c||t)("v-app",{attrs:{id:"dashboard"}})},staticRenderFns:[]},f=s("VU/8")({name:"Dashboard"},v,!1,null,null,null).exports,p=s("ZkYA"),g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",{staticClass:"mt-n12 pt-n12"},[s("h2",[t._v("Fee Details")]),t._v(" "),s("v-layout",{attrs:{rxs4:"",row:"",wrap:"","justify-center":"","offset-sm3":""}},[s("v-col",{attrs:{cols:"8",md:"2"}},[s("h5",[t._v("Student:")]),t._v(" "),s("h4",[t._v(t._s(t.student_name))])]),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("h5",[t._v("Class:")]),t._v(" "),s("h4",[t._v(t._s(t.the_class))])]),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("h5",[t._v("Reg/Adm/Sch No")]),t._v(" "),s("h4",[t._v(t._s(t.student_erp_id))])]),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("h5",[t._v("Parent")]),t._v(" "),s("h4",[t._v(t._s(t.parent))])])],1),t._v(" "),s("v-layout",{attrs:{rxs4:"",row:"",wrap:"","justify-center":"","offset-sm6":""}},[s("v-col",{attrs:{cols:"8",md:"8"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dark:"",headers:t.headers,items:t.heads,"hide-default-footer":"",loading:"true"},scopedSlots:t._u([{key:"item.discount_amt",fn:function(e){return[s("v-edit-dialog",{attrs:{"return-value":e.item.discount_amt,large:"",persistent:""},on:{"update:returnValue":function(s){return t.$set(e.item,"discount_amt",s)},"update:return-value":function(s){return t.$set(e.item,"discount_amt",s)},save:function(s){return t.apply_cash_discount(e.item)}},scopedSlots:t._u([{key:"input",fn:function(){return[s("v-text-field",{attrs:{rules:[t.rules.number],label:"Discount Amount","single-line":"",counter:"",autofocus:""},model:{value:e.item.discount_amt,callback:function(s){t.$set(e.item,"discount_amt",s)},expression:"props.item.discount_amt"}})]},proxy:!0}],null,!0)},[s("div",[t._v(t._s(e.item.discount_amt))])])]}},{key:"item.discount_perc",fn:function(e){return[s("v-edit-dialog",{attrs:{"return-value":e.item.discount_perc,large:"",persistent:""},on:{"update:returnValue":function(s){return t.$set(e.item,"discount_perc",s)},"update:return-value":function(s){return t.$set(e.item,"discount_perc",s)},save:function(s){return t.apply_perc_discount(e.item)}},scopedSlots:t._u([{key:"input",fn:function(){return[s("v-text-field",{attrs:{rules:[t.rules.number],label:"% Discount","single-line":"",counter:"",autofocus:""},model:{value:e.item.discount_perc,callback:function(s){t.$set(e.item,"discount_perc",s)},expression:"props.item.discount_perc"}})]},proxy:!0}],null,!0)},[s("div",[t._v(t._s(e.item.discount_perc))])])]}}])})],1)],1),t._v(" "),s("v-form",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"10",md:"2"}},[s("v-text-field",{attrs:{label:"Due this Month/Qtr",disabled:""},model:{value:t.due_this_term,callback:function(e){t.due_this_term=e},expression:"due_this_term"}})],1),t._v(" "),s("v-col",{attrs:{cols:"10",md:"2"}},[s("v-text-field",{attrs:{label:"Previous Outstanding",disabled:""},model:{value:t.previous_due,callback:function(e){t.previous_due=e},expression:"previous_due"}})],1),t._v(" "),s("v-col",{attrs:{cols:"10",md:"2"}},[s("v-text-field",{attrs:{label:"Delay",disabled:""},model:{value:t.delay,callback:function(e){t.delay=e},expression:"delay"}})],1),t._v(" "),s("v-col",{attrs:{cols:"10",md:"2"}},[s("v-text-field",{attrs:{label:"Penalty"},on:{focus:function(e){return t.dismiss()}},model:{value:t.late_fee,callback:function(e){t.late_fee=e},expression:"late_fee"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"10",md:"2"}},[s("v-text-field",{attrs:{label:"Other/One time Charges"},on:{focus:function(e){return t.dismiss()}},model:{value:t.one_time,callback:function(e){t.one_time=e},expression:"one_time"}})],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("v-text-field",{attrs:{label:"Waivers"},on:{focus:function(e){return t.dismiss()}},model:{value:t.waiver,callback:function(e){t.waiver=e},expression:"waiver"}})],1),t._v(" "),s("v-col",{attrs:{cols:"10",md:"1"}},[s("v-text-field",{attrs:{label:"Net Payable",disabled:""},model:{value:t.net_payable,callback:function(e){t.net_payable=e},expression:"net_payable"}})],1),t._v(" "),s("v-col",{attrs:{cols:"10",md:"1"}},[s("v-text-field",{attrs:{label:"Actual Paid"},on:{focus:function(e){return t.dismiss()}},model:{value:t.actual_paid,callback:function(e){t.actual_paid=e},expression:"actual_paid"}})],1),t._v(" "),s("v-col",{attrs:{cols:"10",md:"2"}},[s("v-text-field",{attrs:{label:"Remaining Balance",disabled:""},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"8",md:"6"}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.payment_mode,callback:function(e){t.payment_mode=e},expression:"payment_mode"}},[s("v-radio",{attrs:{label:"Cash",value:"cash"}}),t._v(" "),s("v-radio",{attrs:{label:"Cheque",value:"cheque"}}),t._v(" "),s("v-radio",{attrs:{label:"Card",value:"card"}}),t._v(" "),s("v-radio",{attrs:{label:"Net Banking",value:"netbanking"}})],1)],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"1"}},[s("v-text-field",{attrs:{label:"Cheque No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.cheque_no,callback:function(e){t.cheque_no=e},expression:"cheque_no"}})],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"1"}},[s("v-text-field",{attrs:{label:"Bank"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"8",md:"3"}},[s("v-btn",{attrs:{color:"purple"},on:{click:t.fee_history}},[t._v("Download Payment History")])],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("v-btn",{attrs:{color:"green"},on:{click:t.validate_fee}},[t._v("Accept Fee")])],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"8",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.process_fee()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]},b=s("VU/8")(p.a,g,!1,null,null,null).exports,x={name:"StudentSearch",data:function(){return{show_search_criteria:!0,show_student_list:!1,loader:null,loading:!1,reg_no:"",first_name:"",last_name:"",the_class:"",class_list:[],students:[],alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip.concat("/academics/class_list/",e,"/");r.a.get(s).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.reg_no&&""==this.first_name&&(this.alert_message="Search criteria provided is NOT Enough.",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),""!=this.first_name&&""==this.reg_no&&""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),e){var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=s.concat("/student/list/",a,"/","in_params","/","in_params");r.a.get(i,{params:{reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class}}).then(function(e){if(0==e.data.length)t.alert_message="Student not found. Please change the search criteria and try again",t.showDismissibleAlert=!0,this.alert_color="red",t.alert_type="error";else{t.show_search_criteria=!1;for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.reg_no=e.data[s].student_erp_id,a.name=e.data[s].fist_name+" "+e.data[s].last_name,a.the_class=e.data[s].current_class+"-"+e.data[s].current_section,a.parent=e.data[s].parent,a.adm_fee=e.data[s].adm_fee,console.log(a),t.students.push(a)}console.log(t.students),t.show_student_list=!0}}).catch(function(t){console.log(t)}).then(function(){})}console.log(this.reg_no)},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){console.log("inside showAlert");var e=this.$store.getters.get_coming_from;(console.log(e),"fee_payment"==e)&&(confirm("Are you sure you want to process the fees for "+t.name+" ("+t.reg_no+")?")&&(this.$store.dispatch("set_student_id",t.reg_no),this.$store.dispatch("set_student_name",t.name),this.$store.dispatch("set_parent",t.parent),this.$router.replace("/fee_payment")));if("correction"==e&&confirm("Are you sure you want to do correction for "+t.name+" ("+t.reg_no+")?")){this.$store.dispatch("set_student_id",t.reg_no),this.$store.dispatch("set_student_name",t.name);var s=t.current_class;console.log(s);var a=t.current_section;console.log(a),this.$store.dispatch("set_student_class",t.the_class),this.$store.dispatch("set_parent",t.parent),this.$router.replace("/correction")}"update_student"==e&&(confirm("Are you sure you want to do update for "+t.name+" ("+t.reg_no+")")&&(this.$store.dispatch("set_student_id",t.reg_no),this.$store.dispatch("set_student_name",t.name),this.$store.dispatch("set_student_class",t.the_class),this.$store.dispatch("set_parent",t.parent),this.$router.replace("/update_student")));if("delete_student"==e&&confirm("Are you sure you want to Delete Student: "+t.name+" ("+t.reg_no+")? Parent: "+t.parent+"?")){var i=this;this.confirm=!1;this.$store.getters.get_school_id;var o=this.$store.getters.get_server_ip.concat("/setup/delete_student/");r.a.post(o,{student_id:t.id}).then(function(t){return console.log(t),i.overlay=!1,"success"==t.data.status?(confirm("Student successfully deleted"),i.first_name="",i.the_class="",i.replace="",i.last_name="",i.students=[],i.show_search_criteria=!0,void(i.show_student_list=!1)):(i.alert_color="red",i.alert_message=t.data.message,i.showDismissibleAlert=!0,void confirm(t.data.message))}).catch(function(t){console.log(t)}).then(function(){})}}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",[s("h2",[t._v("Student Search")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{label:"Reg/Adm/Sch Number"},on:{focus:function(e){return t.dismiss()}},model:{value:t.reg_no,callback:function(e){t.reg_no=e},expression:"reg_no"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{label:"Surname/Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.search()}]}},[t._v("\n              Search\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1)],1):t._e(),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-col",{staticClass:"mx-auto",attrs:{cols:"10",md:"8"}},[t.show_student_list?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.students},scopedSlots:t._u([{key:"body",fn:function(e){var a=e.items;return[s("tbody",t._l(a,function(e){return s("tr",{key:e.name,class:{selectedRow:e===t.selectedItem},on:{click:function(s){return t.showAlert(e)}}},[s("td",{attrs:{align:"left"}},[t._v(t._s(e.name))]),t._v(" "),s("td",{attrs:{align:"left"}},[t._v(t._s(e.reg_no))]),t._v(" "),s("td",{attrs:{align:"left"}},[t._v(t._s(e.the_class))]),t._v(" "),s("td",{attrs:{align:"left"}},[t._v(t._s(e.parent))])])}),0)]}}],null,!1,1986767028)}):t._e()],1)],1)],1)],1)},staticRenderFns:[]};var k,y=s("VU/8")(x,w,!1,function(t){s("zKJF")},null,null).exports,C=s("bOdI"),A=s.n(C),D={name:"Correction",data:function(){var t;return t={school_id:"",student_id:"",reg_no:"",the_class:"",student_name:"",parent:"",alert_message:"",show_payment_history:!0,show_payment_details:!1,receipt_corrected:"",penalty:"",one_time:"",discount:"",amount_paid:"",payment_history:[],alert_type:""},A()(t,"alert_message",""),A()(t,"showDismissibleAlert",!1),A()(t,"headers",[{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Receipt Number",value:"receipt_number"},{text:"Amount Paid",value:"amount_paid"}]),t},mounted:function(){var t=this,e=this.$store.getters.get_school_id;this.$store.getters.get_student_id;this.student_name=this.$store.getters.get_student_name,this.parent=this.$store.getters.get_parent,t.reg_no=this.$store.getters.get_student_id,this.the_class=this.$store.getters.get_student_class;var s=this.$store.getters.get_server_ip.concat("/fee_processing/get_fee_history/");r.a.get(s,{params:{school_id:e,reg_no:t.reg_no,download:"false"}}).then(function(e){if(0==e.data.length)t.alert_message="No payment associated with this student could be found.",t.showDismissibleAlert=!0,t.alert_type="error";else{console.log(e),t.show_payment_history=!0,t.show_payment_details=!1;for(var s=0;s<e.data.length;s++){var a={};a.date=e.data[s].date,a.receipt_number=e.data[s].receipt_number,a.amount_paid=e.data[s].amount,a.fine=e.data[s].fine,a.one_time=e.data[s].one_time,a.discount=e.data[s].discount,t.payment_history.push(a)}console.log(t.payment_history)}}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.reg_no&&""==this.first_name&&(this.alert_message="Search criteria provided is NOT Enough.",this.showDismissibleAlert=!0,e=!1),""!=this.first_name&&""==this.reg_no&&""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),e){var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=s.concat("/student/list/",a,"/","in_params","/","in_params");r.a.get(i,{params:{reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class}}).then(function(e){if(0==e.data.length)t.alert_message="Student not found. Please change the search criteria and try again",t.showDismissibleAlert=!0,t.alert_type="error";else{t.show_search_criteria=!1;for(var s=0;s<e.data.length;s++){var a={};a.reg_no=e.data[s].student_erp_id,a.name=e.data[s].fist_name+" "+e.data[s].last_name,a.the_class=e.data[s].current_class+"-"+e.data[s].current_section,a.parent=e.data[s].parent,a.adm_fee=e.data[s].adm_fee,console.log(a),t.students.push(a)}console.log(t.students),t.show_student_list=!0}}).catch(function(t){console.log(t)}).then(function(){})}console.log(this.reg_no)},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){(console.log("inside showAlert"),event.target.classList.contains("btn__content"))||confirm("Are you sure you want to do correction for "+t.receipt_number+" (date: "+t.date+", amount: "+t.amount_paid+")?")&&(this.show_payment_history=!1,this.show_payment_details=!0,this.receipt_corrected=t.receipt_number,this.penalty=t.fine,this.one_time=t.one_time,this.discount=t.discount,this.amount_paid=t.amount_paid)},correction:function(){var t=this;if(confirm("Are you sure you want to apply this correction?")){var e,s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=s.concat("/fee_processing/correct_fee/",a,"/");r.a.post(i,(e={receipt_corrected:this.receipt_corrected,penalty:this.penalty,due_this_term:this.due_this_term,one_time:this.one_time,fine:this.late_fee},A()(e,"one_time",this.one_time),A()(e,"discount",this.discount),A()(e,"amount_paid",this.amount_paid),e)).then(function(e){console.log(e),confirm("Fees successfully corrected"),t.$router.replace("/student_search")}).catch(function(t){console.log(t)}).then(function(){})}}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-container",{attrs:{fluid:""}},[s("v-content",[t.show_payment_history?s("h2",[t._v("Fee Payment History")]):t._e(),t._v(" "),t.show_payment_history?s("v-layout",{attrs:{"justify-center":""}},[s("v-col",{attrs:{cols:"8",md:"2"}},[s("h5",[t._v("Student:")]),t._v(" "),s("h3",[t._v(t._s(t.student_name))])]),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("h5",[t._v("Class:")]),t._v(" "),s("h3",[t._v(t._s(t.the_class))])]),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("h5",[t._v("Reg/Adm/Sch No")]),t._v(" "),s("h3",[t._v(t._s(t.reg_no))])]),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("h5",[t._v("Parent")]),t._v(" "),s("h3",[t._v(t._s(t.parent))])])],1):t._e(),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[s("v-col",{attrs:{cols:"10",md:"8"}},[t.show_payment_history?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.payment_history},scopedSlots:t._u([{key:"body",fn:function(e){var a=e.items;return[s("tbody",t._l(a,function(e){return s("tr",{key:e.name,class:{selectedRow:e===t.selectedItem},on:{click:function(s){return t.showAlert(e)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.date))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.receipt_number))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.amount_paid))])])}),0)]}}],null,!1,3220110536)}):t._e()],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[t.show_payment_details?s("v-form",[s("h3",[t._v("Please Correct")]),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-col",{attrs:{cols:"8",md:"2"}},[s("v-text-field",{attrs:{label:"Penalty"},model:{value:t.penalty,callback:function(e){t.penalty=e},expression:"penalty"}})],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("v-text-field",{attrs:{label:"Other/One Time"},model:{value:t.one_time,callback:function(e){t.one_time=e},expression:"one_time"}})],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("v-text-field",{attrs:{label:"Discount"},on:{focus:function(e){return t.dismiss()}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}})],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"2"}},[s("v-text-field",{attrs:{label:"Amount Paid"},on:{focus:function(e){return t.dismiss()}},model:{value:t.amount_paid,callback:function(e){t.amount_paid=e},expression:"amount_paid"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-col",{attrs:{cols:"8",md:"3"}},[s("v-btn",{attrs:{color:"green"},on:{click:t.correction}},[t._v("Update Payment")])],1),t._v(" "),s("v-col",{attrs:{cols:"8",md:"3"}},[s("v-btn",{attrs:{color:"orange"},on:{click:t.validate_fee}},[t._v("Cancel")])],1)],1),t._v(" "),s("v-alert",{attrs:{value:t.showDismissibleAlert,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1):t._e()],1)],1)},staticRenderFns:[]},$=s("VU/8")(D,S,!1,null,null,null).exports,T={name:"FeePayment",data:function(){return{date:null,date1:null,menu:!1,menu1:!1,modal:!1,reg_no:"",first_name:"",last_name:"",the_class:"",section:"",date_of_admission:"",gender:"",parent:"",alert_message:"",dob:"",father_name:"",email:"",father_mobile:"",mother_name:"",mother_mobile:"",address:"",adhar:"",blood_group:"",house:"",father_occupation:"",mother_occupation:"",transport:"",bus_rout:"",bus_stop:"",class_list:[],section_list:[],loading:!1,showDismissibleAlert:!1,alert_type:"error",alert_color:"",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},overlay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=s.concat("/academics/class_list/",e,"/");r.a.get(a).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var i=s.concat("/academics/section_list/",e,"/");r.a.get(i).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.section_list)}).catch(function(t){console.log(t)})},methods:(k={add_student:function(){},save_dob:function(){console.log("saving dob...")},validate_entries:function(){return""==this.reg_no?(this.alert_message="Please enter Registration/Admission/Scholar Number",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.first_name?(this.alert_message="Please enter First Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.last_name?(this.alert_message="Please enter Last Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.the_class?(this.alert_message="Please Select Class in which student is admitted",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.section?(this.alert_message="Please Select Section in which student is admitted",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.date_of_admission?(this.alert_message="Please enter the date of Admission",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.gender?(this.alert_message="Please Select Gender)",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.dob?(this.alert_message="Please enter Student's Date of Birth (DOB)",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.father_name?(this.alert_message="Please enter Father's name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.father_mobile?(this.alert_message="Please enter Father's mobile number (10 digits)",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.mother_name?(this.alert_message="Please enter Mother's name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.transport?(this.alert_message="Please mention whether Bus user or Walker",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.address?(this.alert_message="Please enter Address",this.showDismissibleAlert=!0,void(this.alert_color="red")):(this.caption="Confirm Student Addition",this.alert_message="Are you sure you want to Add this Student ",this.confirm=!0,void(this.overlay=!0))},close:function(){console.log("Dialog closed")}},A()(k,"add_student",function(){var t=this;console.log("inside add student"),this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,i=s.concat("/student/add_student_web/");r.a.post(i,{school_id:e,sender:a,reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class,section:this.section,date_of_admission:this.date_of_admission,gender:this.gender,dob:this.dob,adhar:this.adhar,house:this.house,blood_group:this.blood_group,father_name:this.father_name,father_mobile:this.father_mobile,email:this.email,mother_name:this.mother_name,mother_mobile:this.mother_mobile,father_occupation:this.father_occupation,mother_occupation:this.mother_occupation,transport:this.transport,bus_rout:this.bus_rout,bus_stop:this.bus_stop,address:this.address}).then(function(e){if(console.log(e),t.overlay=!1,"success"!=e.data.status)return t.showDismissibleAlert=!0,void(t.alert_message=e.data.message);confirm("student successfully added"),t.$router.replace("/student_search")}).catch(function(t){console.log(t)}).then(function(){})}),A()(k,"dismiss",function(){this.showDismissibleAlert=!1}),k)},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Add Student")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Reg/Adm/Sch No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.reg_no,callback:function(e){t.reg_no=e},expression:"reg_no"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Surname/Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-select",{attrs:{items:t.class_list,label:"Class"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,"return-value":t.date1,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date1=e},"update:return-value":function(e){t.date1=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({attrs:{label:"Date of Admission","prepend-icon":"event",readonly:""},model:{value:t.date_of_admission,callback:function(e){t.date_of_admission=e},expression:"date_of_admission"}},a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date_of_admission,callback:function(e){t.date_of_admission=e},expression:"date_of_admission"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu1=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu1.save(t.date1)}}},[t._v("OK")])],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-radio",{attrs:{label:"Male",value:"male"}}),t._v(" "),s("v-radio",{attrs:{label:"Female",value:"female"}}),t._v(" "),s("v-radio",{attrs:{label:"Other",value:"other"}})],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({attrs:{label:"Date of Birth","prepend-icon":"event",readonly:""},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Adhar No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.adhar,callback:function(e){t.adhar=e},expression:"adhar"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Blood Group"},on:{focus:function(e){return t.dismiss()}},model:{value:t.blood_group,callback:function(e){t.blood_group=e},expression:"blood_group"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-text-field",{attrs:{label:"House"},on:{focus:function(e){return t.dismiss()}},model:{value:t.house,callback:function(e){t.house=e},expression:"house"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Father Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_name,callback:function(e){t.father_name=e},expression:"father_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Email"},on:{focus:function(e){return t.dismiss()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Father Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_mobile,callback:function(e){t.father_mobile=e},expression:"father_mobile"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mother Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_name,callback:function(e){t.mother_name=e},expression:"mother_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mother Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_mobile,callback:function(e){t.mother_mobile=e},expression:"mother_mobile"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Father Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_occupation,callback:function(e){t.father_occupation=e},expression:"father_occupation"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mother Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_occupation,callback:function(e){t.mother_occupation=e},expression:"mother_occupation"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3","justify-space-between":""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.transport,callback:function(e){t.transport=e},expression:"transport"}},[s("v-radio",{attrs:{label:"Bus User",value:"bus_user"}}),t._v(" "),s("v-radio",{attrs:{label:"Walker",value:"walker"}})],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-text-field",{attrs:{label:"Bus Route"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_rout,callback:function(e){t.bus_rout=e},expression:"bus_rout"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Bus Stop"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_stop,callback:function(e){t.bus_stop=e},expression:"bus_stop"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-text-field",{attrs:{label:"Address"},on:{focus:function(e){return t.dismiss()}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n            Add Student\n            "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.add_student()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1,t.overlay=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},j=s("VU/8")(T,E,!1,null,null,null).exports,P={name:"FeePayment",data:function(){return{date:null,menu:!1,modal:!1,reg_no:"",first_name:"",last_name:"",the_class:"",section:"",gender:"",parent:"",alert_message:"",dob:"",father_name:"",email:"",father_mobile:"",mother_name:"",mother_mobile:"",address:"",adhar:"",blood_group:"",house:"",father_occupation:"",mother_occupation:"",transport:"",bus_rout:"",bus_stop:"",class_list:[],section_list:[],showDismissibleAlert:!1,alert_type:"error",alert_color:"",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},ovelay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=this.$store.getters.get_student_id,i=s.concat("/academics/class_list/",e,"/");r.a.get(i).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var o=s.concat("/academics/section_list/",e,"/");r.a.get(o).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.section_list)}).catch(function(t){console.log(t)});var n=s.concat("/student/single_student_details/",e,"?student_id=",a);r.a.get(n).then(function(e){console.log(e.data),t.reg_no=e.data[0].student_erp_id,t.first_name=e.data[0].fist_name,t.last_name=e.data[0].last_name,t.the_class=e.data[0].current_class,t.section=e.data[0].current_section,t.gender=e.data[0].gender,t.parent=e.data[0].parent,"Not Available"!=e.data[0].dob&&(t.dob=e.data[0].dob),t.father_name=e.data[0].parent,t.email=e.data[0].email,t.father_mobile=e.data[0].parent_mob,t.father_name=e.data[0].parent,t.mother_name=e.data[0].mother,t.mother_mobile=e.data[0].mother_mob,t.address=e.data[0].address,t.adhar=e.data[0].adhar,t.blood_group=e.data[0].blood_group,t.house=e.data[0].house,t.father_occupation=e.data[0].father_occ,t.mother_occupation=e.data[0].mother_occ,t.transport=e.data[0].bus_user,t.bus_rout=e.data[0].bus_rout,t.bus_stop=e.data[0].bus_stop}).catch(function(t){})},methods:{validate_entries:function(){return console.log("gender =",this.gender),""==this.reg_no?(this.alert_message="Please enter Registration/Admission/Scholar Number",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.first_name?(this.alert_message="Please enter First Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.last_name?(this.alert_message="Please enter Last Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):" "==this.gender||"Not Available"==this.gender?(this.alert_message="Please Select Gender)",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.dob?(this.alert_message="Please enter Student's Date of Birth (DOB)",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.father_name?(this.alert_message="Please enter Father's name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.father_mobile?(this.alert_message="Please enter Father's mobile number (10 digits)",this.showDismissibleAlert=!0,void(this.alert_color="red")):10!=this.father_mobile.length?(this.alert_message="Father's mobile number should be exactly 10 digits",this.showDismissibleAlert=!0,void(this.alert_color="red")):10!=this.mother_mobile.length?(this.alert_message="Mother's mobile number should be exactly 10 digits",this.mother_mobile.this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.mother_name?(this.alert_message="Please enter Mother's name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.transport?(this.alert_message="Please mention whether Bus user or Walker",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.address?(this.alert_message="Please enter Address",this.showDismissibleAlert=!0,void(this.alert_color="red")):(this.caption="Confirm Student Update",this.alert_message="Are you sure you want to Update this Student ",this.confirm=!0,void(this.ovelay=!0))},close:function(){console.log("Dialog closed")},update_student:function(){var t=this;console.log("inside update student"),this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,i=s.concat("/student/update_student_web/");r.a.post(i,{school_id:e,sender:a,reg_no:this.reg_no,first_name:this.first_name,last_name:this.last_name,the_class:this.the_class,section:this.section,gender:this.gender,dob:this.dob,adhar:this.adhar,house:this.house,blood_group:this.blood_group,father_name:this.father_name,father_mobile:this.father_mobile,email:this.email,mother_name:this.mother_name,mother_mobile:this.mother_mobile,father_occupation:this.father_occupation,mother_occupation:this.mother_occupation,transport:this.transport,bus_rout:this.bus_rout,bus_stop:this.bus_stop,address:this.address}).then(function(e){if(t.ovelay=!1,console.log(e),"success"!=e.data.status)return t.showDismissibleAlert=!0,void(t.alert_message=e.data.message);confirm("student successfully updated"),t.$router.replace("/student_search")}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"}),t._v(" "),s("h2",[t._v("Update Student")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Reg/Adm/Sch No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.reg_no,callback:function(e){t.reg_no=e},expression:"reg_no"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Surname/Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("v-radio",{attrs:{label:"Male",value:"male"}}),t._v(" "),s("v-radio",{attrs:{label:"Female",value:"female"}}),t._v(" "),s("v-radio",{attrs:{label:"Other",value:"other"}})],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({attrs:{label:"Date of Birth","prepend-icon":"event",readonly:""},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Adhar No"},on:{focus:function(e){return t.dismiss()}},model:{value:t.adhar,callback:function(e){t.adhar=e},expression:"adhar"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Blood Group"},on:{focus:function(e){return t.dismiss()}},model:{value:t.blood_group,callback:function(e){t.blood_group=e},expression:"blood_group"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-text-field",{attrs:{label:"House"},on:{focus:function(e){return t.dismiss()}},model:{value:t.house,callback:function(e){t.house=e},expression:"house"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Father Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_name,callback:function(e){t.father_name=e},expression:"father_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Email"},on:{focus:function(e){return t.dismiss()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Father Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_mobile,callback:function(e){t.father_mobile=e},expression:"father_mobile"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mother Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_name,callback:function(e){t.mother_name=e},expression:"mother_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mother Mob"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_mobile,callback:function(e){t.mother_mobile=e},expression:"mother_mobile"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs6:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Father Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.father_occupation,callback:function(e){t.father_occupation=e},expression:"father_occupation"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mother Occupation"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mother_occupation,callback:function(e){t.mother_occupation=e},expression:"mother_occupation"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3","justify-space-between":""}},[s("v-radio-group",{attrs:{row:""},on:{click:function(e){return t.dismiss()}},model:{value:t.transport,callback:function(e){t.transport=e},expression:"transport"}},[s("v-radio",{attrs:{label:"Bus User",value:"bus_user"}}),t._v(" "),s("v-radio",{attrs:{label:"Walker",value:"walker"}})],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-text-field",{attrs:{label:"Bus Route"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_rout,callback:function(e){t.bus_rout=e},expression:"bus_rout"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Bus Stop"},on:{focus:function(e){return t.dismiss()}},model:{value:t.bus_stop,callback:function(e){t.bus_stop=e},expression:"bus_stop"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-text-field",{attrs:{label:"Address"},on:{focus:function(e){return t.dismiss()}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n              Update Student\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.update_student()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]},M=s("VU/8")(P,F,!1,null,null,null).exports,N=s("VU/8")(null,null,!1,null,null,null).exports,R={data:function(){return A()({heading:"Download Student List",whole_school:!1,all_sections:!1,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],ip:"",school_id:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,waiting:!1},"loading",!1)},mounted:function(){var t=this;this.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/academics/class_list/",this.school_id,"/");r.a.get(e).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var s=t.ip.concat("/academics/section_list/",this.school_id,"/");r.a.get(s).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{download:function(){var t=this,e=!0;if(console.log(this.whole_school,this.the_class,this.section,this.all_sections),0==this.whole_school&&""==this.the_class&&(this.alert_message="Please Select either Whole School or a Class & Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class||""!=this.section||this.all_sections||(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&""!=this.section&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),e){this.waiting=!0,this.loading=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=(this.$store.getters.get_school_name,this.whole_school),o=this.the_class,n=this.section,l=t.all_sections,c=s.concat("/student/download_student_list/");r.a.post(c,{school_id:a,whole_school:i,the_class:o,section:n,all_sections:l},{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var r="";r=i?"Student_List.xlsx":l?o+"_Student_list.xlsx":o+"_"+n+"_Student_list.xlsx",a.setAttribute("download",r),document.body.appendChild(a),a.click(),confirm("Student List Downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",{staticClass:"mt-0"},[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-checkbox",{attrs:{label:"Whole School"},on:{change:function(e){t.dismiss(),t.the_class="",t.section="",t.all_sections=!1}},model:{value:t.whole_school,callback:function(e){t.whole_school=e},expression:"whole_school"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard",disabled:t.whole_school},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section",disabled:t.whole_school||t.all_sections},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-checkbox",{attrs:{label:"All Sections",disabled:t.whole_school},on:{change:function(e){t.dismiss(),t.section=""}},model:{value:t.all_sections,callback:function(e){t.all_sections=e},expression:"all_sections"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],2)],1)},staticRenderFns:[]};var B=s("VU/8")(R,U,!1,function(t){s("3MOt")},null,null).exports,O={data:function(){return{show_search_criteria:!0,loader:null,loading:!1,waitng:!1,the_class:"",class_list:[],section:"",section_list:[],alert_type:"",alert_message:"",showDismissibleAlert:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=s.concat("/academics/class_list/",e,"/");r.a.get(a).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var i=s.concat("/academics/section_list/",e,"/");r.a.get(i).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),e){t.waitng=!0,t.loading=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=(this.$store.getters.get_school_name,s.concat("/exam/result_sheet/"));r.a.get(i,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer",params:{school_id:a,the_class:this.the_class,section:this.section}}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="Result_Analysis_Sheet_"+t.the_class+"-"+t.section+".xlsx";a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Result sheet downloaded"),t.waitng=!1,t.loading=!1}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),t.show_search_criteria?s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v("Download Result Analysis Sheets")]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.search()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1):t._e(),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}},[t.show_student_list?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.students},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){return t.showAlert(e.item)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.reg_no))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.the_class))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.parent))])])]}}],null,!1,3051637608)}):t._e()],1)],2)],1)},staticRenderFns:[]};var I=s("VU/8")(O,L,!1,function(t){s("JB+8")},null,null).exports,V={data:function(){return{coming_from:"",heading:"",whole_class:!0,show_search_criteria:!0,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],student:"",student_list:[],ip:"",school_id:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,waiting:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this;this.coming_from=this.$store.getters.get_coming_from,"performance_analysis"==this.coming_from&&(this.heading="Download Performance Analysis Sheet(s)"),"mark_sheet"==this.coming_from&&(this.heading="Download Mark Sheet(s)"),this.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/academics/class_list/",this.school_id,"/");r.a.get(e).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var s=t.ip.concat("/academics/section_list/",this.school_id,"/");r.a.get(s).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{get_student_list:function(){var t=this;if(""!=this.the_class&&""!=this.section){var e=t.ip.concat("/student/list/",this.school_id,"/",this.the_class,"/",this.section,"/");r.a.get(e).then(function(e){t.student_list=e.data;for(var s=0;s<e.data.length;s++)t.student_list[s]=e.data[s].fist_name+" "+e.data[s].last_name+" ("+e.data[s].student_erp_id+")";console.log(t.student_list)}).catch(function(t){console.log(t)})}},download:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),this.whole_class||""!=this.student||(this.alert_message="Please Select a Student",this.showDismissibleAlert=!0,e=!1),e){this.waiting=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=(this.$store.getters.get_school_name,t.the_class),o=t.section,n=t.student;""==n&&(n="na");var l=this.whole_class,c="";"performance_analysis"==this.coming_from&&(c=s.concat("/analytics/performance_sheet/")),"mark_sheet"==this.coming_from&&(c=s.concat("/exam/academics/prepare_results/",a,"/",i,"/",o)),console.log("url=",c),r.a.get(c,{params:{school_id:a,the_class:i,section:o,student:n,selected_student:n,whole_class:l}}).then(function(e){t.waiting=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="";l&&(i=t.the_class+"-"+t.section+"_Performance_Analysis.pdf"),""!=n&&(i=n+"_Performance_Analysis.pdf"),a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Analysis sheet downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.student_list,label:"Student",disabled:t.whole_class},on:{focus:function(e){return t.dismiss()}},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-checkbox",{attrs:{label:"Whole Class: "+t.whole_class.toString()},on:{change:function(e){t.dismiss(),t.student=""}},model:{value:t.whole_class,callback:function(e){t.whole_class=e},expression:"whole_class"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1):t._e(),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)]],2)],1)},staticRenderFns:[]};var W=s("VU/8")(V,z,!1,function(t){s("ELak")},null,null).exports,K={data:function(){return{coming_from:"",heading:"",whole_class:!0,show_search_criteria:!0,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],student:"",student_list:[],ip:"",school_id:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,waiting:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this;this.coming_from=this.$store.getters.get_coming_from,"performance_analysis"==this.coming_from&&(this.heading="Download Performance Analysis Sheet(s)"),"mark_sheet"==this.coming_from&&(this.heading="Download Mark Sheet(s)"),this.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/academics/class_list/",this.school_id,"/");r.a.get(e).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var s=t.ip.concat("/academics/section_list/",this.school_id,"/");r.a.get(s).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{get_student_list:function(){var t=this;if(""!=this.the_class&&""!=this.section){var e=t.ip.concat("/student/list/",this.school_id,"/",this.the_class,"/",this.section,"/");r.a.get(e).then(function(e){t.student_list=e.data;for(var s=0;s<e.data.length;s++)t.student_list[s]=e.data[s].fist_name+" "+e.data[s].last_name+" ("+e.data[s].student_erp_id+")";console.log(t.student_list)}).catch(function(t){console.log(t)})}},download:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,e=!1),this.whole_class||""!=this.student||(this.alert_message="Please Select a Student",this.showDismissibleAlert=!0,e=!1),e){this.waiting=!0,this.loading=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=(this.$store.getters.get_school_name,t.the_class),o=t.section,n=t.student;""==n&&(n="na");var l=this.whole_class,c="";"performance_analysis"==this.coming_from&&(c=s.concat("/analytics/performance_sheet/")),"mark_sheet"==this.coming_from&&(c=s.concat("/exam/marksheet/",a,"/",i,"/",o)),console.log("url=",c),r.a.get(c,{params:{school_id:a,the_class:i,section:o,student:n,selected_student:n,whole_class:l}}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="";l&&(i=t.the_class+"-"+t.section+"_Mark_Sheet.pdf"),""!=n&&(i=n+"_Mark_Sheet.pdf"),a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Analysis sheet downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[t.show_search_criteria?s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Class & Section")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.student_list,label:"Student",disabled:t.whole_class},on:{focus:function(e){return t.dismiss()}},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-checkbox",{attrs:{label:"Whole Class: "+t.whole_class.toString()},on:{change:function(e){t.dismiss(),t.student=""}},model:{value:t.whole_class,callback:function(e){t.whole_class=e},expression:"whole_class"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1):t._e(),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],2)],1)},staticRenderFns:[]};var Y=s("VU/8")(K,q,!1,function(t){s("NmoU")},null,null).exports,G=s("Xxa5"),H=s.n(G),X=s("exGp"),J=s.n(X),Z={data:function(){var t;return t={rules:[function(t){return t.length<=400||"Max 400 characters"}],headers:[{text:"Class",align:"left",sortable:!1,value:"standard"}],class_list:[],all_classes:!0,selected_classes:[],final_recepients:[],staff:["Teachers","Staff"],recepients:[],whole_school:"",message:"",good_to_send:!0,alert_message:"",showDismissibleAlert:!1,alert_type:"error",alert_color:"",confirm:!1,caption:"",loader:"",loading:"",isSaving:!1,image_included:!1,uploadFieldName:"",selectedFile:null,colors:[],image:null,waiting:!1},A()(t,"confirm",""),A()(t,"caption",""),A()(t,"alert_type",""),A()(t,"alert_message",""),A()(t,"alert_color",""),A()(t,"showDismissibleAlert",!1),t},mounted:function(){var t=this,e=this.$store.getters.get_school_id;t.colors=this.$store.getters.get_colors;var s=this.$store.getters.get_server_ip.concat("/academics/class_list/",e,"/");r.a.get(s).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.standard=e.data[s].standard,t.class_list.push(a)}var i={standard:"Teachers"};t.class_list.push(i),(i={}).standard="Staff",t.class_list.push(i)}).catch(function(t){console.log(t)})},methods:{class_selected:function(){this.showDismissibleAlert=!1},onFileChanged:function(t){this.image_included=!0},validate:function(){this.final_recepients=this.selected_classes,console.log(this.final_recepients),this.good_to_send=!0,""==this.message&&(this.showDismissibleAlert=!0,this.alert_message="Message is empty!",this.alert_color="red",this.good_to_send=!1),this.message.length>400&&(this.showDismissibleAlert=!0,this.alert_message="Message is too long. Please restrict to 400 characters max",this.alert_color="red",this.good_to_send=!1),0==this.final_recepients.length&&(this.showDismissibleAlert=!0,this.alert_message="No recepient selected (Class, Teacher, or Staff)",this.good_to_send=!1),this.good_to_send&&(this.caption="Please Confirm sending Bulk Messages",this.alert_message="Are you sure you want to send this message to selected Recepients? ",this.confirm=!0)},send_message:function(){var t=this;return J()(H.a.mark(function e(){var s,a,i,o,n,l,c,d;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for((s=t).waiting=!0,t.confirm=!1,a=0;a<s.selected_classes.length;a++)s.final_recepients[a]=s.selected_classes[a].standard;return console.log(t.final_recepients),i=t.$store.getters.get_server_ip,o=t.$store.getters.get_school_id,n=t.$store.getters.get_user_name,l=i.concat("/operations/send_bulk_sms/"),(c=new FormData).set("from_device",!1),c.set("user",n),c.set("school_id",o),c.set("message_text",t.message),c.set("whole_school","undetermined"),c.set("classes_array",t.final_recepients),c.set("image_included",t.image_included),1==t.image_included&&(c.append("file",t.selectedFile),c.set("image_name",t.selectedFile.name)),confirm("Messages Sent. \nWill be delivered in about an hour's time.\n"),s.waiting=!1,s.message="",s.selected_classes=[],s.$refs.file_input.value=null,e.prev=23,e.next=26,r.a.post(l,c);case 26:d=e.sent,console.log(d),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(23),console.error(e.t0);case 33:case"end":return e.stop()}},e,t,[[23,30]])}))()},select_all:function(){this.whole_school?(this.all_classes=!1,this.selected_classes=this.class_list,console.log("selected_classes",this.selected_classes)):(this.all_classes=!0,this.selected_classes=[],console.log("selected_classes",this.selected_classes))},dismiss:function(){this.showDismissibleAlert=!1},cancel:function(){this.message="",this.selected_classes=null,this.recepients=null,this.image_included=!1,this.$refs.file_input.value=null}}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[s("v-form",{staticClass:"mt-0"},[s("v-container",{staticClass:"pa-md-4 mt-0 mx-lg-auto",attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-snackbar",{attrs:{color:t.alert_color,left:"left"===t.x,"multi-line":"",right:"right"===t.x,bottom:"",vertical:"vertical"===t.mode},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v("\n              "+t._s(t.alert_message)+"\n              "),s("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",dark:"",loading:"","loading-text":"Fetching classes... Please wait",headers:t.headers,items:t.class_list,"item-key":"standard","show-select":""},on:{"item-selected":t.class_selected},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"#FF8A65"}},[s("v-checkbox",{staticClass:"mt-7",attrs:{value:t.whole_school,label:"Whole School"},on:{change:t.select_all},model:{value:t.whole_school,callback:function(e){t.whole_school=e},expression:"whole_school"}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",{attrs:{color:"primary",dark:""},on:{click:t.validate,"v-on":a}},[t._v("Send Message")])]}}])})],1)]},proxy:!0}]),model:{value:t.selected_classes,callback:function(e){t.selected_classes=e},expression:"selected_classes"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-textarea",{attrs:{label:"Message",filled:"",rules:t.rules,"auto-grow":!0,"no-resize":!1,solo:!0,counter:"400"},on:{focus:function(e){return t.dismiss()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-file-input",{ref:"file_input",attrs:{"show-size":"",label:"Optional - Attach file (Image jpeg or png, PDF)",outlined:"",color:"deep-purple accent-4",name:t.uploadFieldName,accept:"image/*, .pdf"},on:{change:t.onFileChanged},model:{value:t.selectedFile,callback:function(e){t.selectedFile=e},expression:"selectedFile"}})],1),t._v(" "),t.selected_classes.length>0?s("v-layout",{attrs:{row:"",wrap:"",r:""}},[s("v-card",{staticClass:"mx-auto"},[s("v-card-text",[s("div",{staticClass:"font-weight-black"},[t._v("Selected Recepients ("+t._s(t.selected_classes.length)+")")]),t._v(" "),s("v-chip-group",{attrs:{multiple:"",column:"","active-class":"primary--text;"}},t._l(t.selected_classes,function(e){return s("v-chip",{key:e.standard,attrs:{color:t.colors[Math.floor(37*Math.random())]}},[t._v(t._s(e.standard))])}),1)],1)],1)],1):t._e()],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"430"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.send_message()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1),t._v(" "),[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}})],t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)]],2)],1)},staticRenderFns:[]};var tt=s("VU/8")(Z,Q,!1,function(t){s("/zTY")},null,null).exports,et={data:function(){return{ip:"",school_id:"",coming_from:"",heading:"Download Monthly Attendance for a Class/Grade",show_search_criteria:!0,loader:null,loading:!1,the_class:"",class_list:[],section:"",section_list:[],subject:"Main",subject_list:[],date:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",waiting:!1,headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this;t.coming_from=this.$store.getters.get_coming_from,t.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip,r.a.all([r.a.get(t.ip.concat("/academics/class_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/section_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/subject_list/",t.school_id,"/"))]).then(r.a.spread(function(e,s,a){t.class_list=e.data,t.section_list=s.data,t.subject_list=a.data;for(var i=0;i<e.data.length;i++)t.class_list[i]=e.data[i].standard;for(i=0;i<s.data.length;i++)t.section_list[i]=s.data[i].section;for(i=0;i<a.data.length;i++)t.subject_list[i]=a.data[i].subject_name}))},methods:{download:function(){var t=this,e=!0;if(""==this.section&&(this.alert_message="Please specify Section",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),""==this.the_class&&(this.alert_message="Please specify Class",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),""==this.subject&&(this.alert_message="Please specify Subject",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),""==this.date&&(this.alert_message="Please specify Month",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),e){console.log("selected month = "+this.month),this.waiting=!0,this.loading=!0;this.$store.getters.get_server_ip,this.$store.getters.get_school_id;var s=t.ip.concat("/operations/att_register_class/");console.log("url=",s);r.a.post(s,{school_id:t.school_id,the_class:t.the_class,section:t.section,subject:t.subject,date:t.date},{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="Attendance_Register"+t.the_class+"-"+t.section;i+="_"+t.subject+"_"+t.date+".xlsx",a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Attendance Sheet Downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Class, Section, and Subject")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.subject_list,label:"Subject"},on:{focus:function(e){return t.dismiss()}},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1)],1),t._v(" "),s("h3",[t._v("Select Month & Year")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-date-picker",{attrs:{type:"month",color:"green lighten-1","header-color":"primary","show-current":!1,"no-title":"",scrollable:"",actions:""},on:{change:function(e){return t.dismiss()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],2)],1)},staticRenderFns:[]};var at=s("VU/8")(et,st,!1,function(t){s("EueY")},null,null).exports,it={data:function(){return{ip:"",school_id:"",coming_from:"",teacher:"",heading:"Schedule a Test",show_search_criteria:!0,loader:null,loading:!1,the_class:"",exam:"",exam_list:[],exam_id_list:[],exam_id:"",start_dates:[],start_date:"",end_dates:[],end_date:"",test_date:"",confirm_date:!1,exam_type:"",exam_types:[],class_list:[],section:"",section_list:[],subject:"",subject_list:[],grade_based:!1,max_marks:"",passing_marks:"",syllabus:"",date:"",caption:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",waiting:!1,confirm:"",headers:[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]}},mounted:function(){var t=this;t.coming_from=this.$store.getters.get_coming_from,t.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip,t.teacher=this.$store.getters.get_logged_user,r.a.all([r.a.get(t.ip.concat("/academics/get_exam_list_teacher/",t.teacher,"/")),r.a.get(t.ip.concat("/academics/class_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/section_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/subject_list/",t.school_id,"/"))]).then(r.a.spread(function(e,s,a,i){t.class_list=s.data,t.section_list=a.data,t.subject_list=i.data;for(var o=0;o<s.data.length;o++)t.class_list[o]=s.data[o].standard;for(o=0;o<a.data.length;o++)t.section_list[o]=a.data[o].section;for(o=0;o<i.data.length;o++)t.subject_list[o]=i.data[o].subject_name;for(o=0;o<e.data.length;o++)t.exam_id_list[o]=e.data[o].id,t.start_dates[o]=e.data[o].start_date,t.end_dates[o]=e.data[o].end_date,t.exam_types[o]=e.data[o].exam_type;var n=e.data.length;t.exam_list=e.data;for(o=0;o<n;o++)t.exam_list[o]=e.data[o].title}))},methods:{set_grade_based:function(t){console.log(t),this.grade_based?this.max_marks=this.passing_marks="N/A":"term"!=this.exam_type?this.max_marks=this.passing_marks="":(this.max_marks=80,this.passing_marks=25)},exam_selected:function(){var t=this.exam_list.indexOf(this.exam);if(this.exam_id=this.exam_id_list[t],this.start_date=this.start_dates[t],this.test_date=this.start_date,this.end_date=this.end_dates[t],this.exam_type=this.exam_types[t],"term"==this.exam_type){["XI","XII"].indexOf(this.the_class)>-1?(this.max_marks=100,this.passing_marks=40):(this.max_marks=80,this.passing_marks=30)}else this.max_marks="",this.passing_marks=""},validate:function(){var t=!0;if(""==this.test_date&&(this.alert_message="Please select a date for this Test",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.max_marks&&(this.alert_message="Please enter Maximum Marks for this Test",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.passing_marks&&(this.alert_message="Please enter Passing Marks for this Test",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.subject&&(this.alert_message="Please select a Subject",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.section&&(this.alert_message="Please select a Section",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.the_class&&(this.alert_message="Please select a Class",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.exam&&(this.alert_message="Please select an Exam",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),t)if(this.test_date===this.start_date){this.confirm_date=!0;var e=this.test_date.split("-"),s=e[0],a=e[1],i=e[2]+"/"+a+"/"+s;this.caption="The date of test is same as the start date of this exam. Are you sure?",this.alert_message="Test date and Exam start date are same ("+i+"). Is this a coincidence?"}else this.confirm=!0,this.caption="Confirm Test Scheduling",this.alert_message="Are you sure you want to schedule this Test?"},schecule_test:function(){var t=this;this.confirm=!1,this.waiting=!0,this.loading=!0;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=this.$store.getters.get_logged_user;t.grade_based&&(t.max_marks=t.passing_marks=0);var i=e.concat("/exam/schedule_test/");console.log("url=",i),r.a.post(i,{school_id:s,teacher:a,exam_id:t.exam_id,the_class:t.the_class,section:t.section,subject:t.subject,date:t.test_date,grade_based:t.grade_based,max_marks:t.max_marks,passing_marks:t.passing_marks,syllabus:t.syllabus}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e),confirm(e.data.outcome)}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.exam_list,label:"Exam"},on:{change:t.exam_selected,focus:function(e){return t.dismiss()}},model:{value:t.exam,callback:function(e){t.exam=e},expression:"exam"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class"},on:{change:t.exam_selected,focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.subject_list,label:"Subject"},on:{focus:function(e){return t.dismiss()}},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-checkbox",{attrs:{value:"grade_based",label:"Grade Based?"},on:{change:function(e){return t.set_grade_based()}},model:{value:t.grade_based,callback:function(e){t.grade_based=e},expression:"grade_based"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Max Marks",disabled:"term"==t.exam_type||t.grade_based},on:{focus:function(e){return t.dismiss()}},model:{value:t.max_marks,callback:function(e){t.max_marks=e},expression:"max_marks"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Pass Marks",disabled:"term"==t.exam_type||t.grade_based},on:{focus:function(e){return t.dismiss()}},model:{value:t.passing_marks,callback:function(e){t.passing_marks=e},expression:"passing_marks"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{label:"Syllabus (optional)"},on:{focus:function(e){return t.dismiss()}},model:{value:t.syllabus,callback:function(e){t.syllabus=e},expression:"syllabus"}})],1)],1),t._v(" "),s("h3",[t._v("Select Date")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-date-picker",{attrs:{"show-current":"",color:"green lighten-1",min:t.start_date,max:t.end_date},on:{change:function(e){return t.dismiss()}},model:{value:t.test_date,callback:function(e){t.test_date=e},expression:"test_date"}})],1)],1),t._v(" "),s("v-layout"),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate()}]}},[t._v("\n              Schedule Test\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"440"},model:{value:t.confirm_date,callback:function(e){t.confirm_date=e},expression:"confirm_date"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirm_date=!1,t.confirm=!0,t.caption="Confirm Test Scheduling",t.alert_message="Are you sure you want to schedule this Test?"}}},[t._v("Yes, Date is Correct")]),t._v(" "),s("v-btn",{attrs:{color:"amber darken-1",text:""},on:{click:function(e){t.confirm_date=!1}}},[t._v("Change Date")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"440"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.schecule_test()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}})],2)],1)},staticRenderFns:[]};var nt,rt=s("VU/8")(it,ot,!1,function(t){s("OYpr")},null,null).exports,lt=s("woOf"),ct=s.n(lt),dt={name:"ShowTestList",data:function(){return{ip:"",school_id:"",teacher:"",loader:null,loading:!0,tests:[],headers:[{text:"Date",align:"left",sortable:!1,value:"date_conducted"},{text:"Subject",value:"subject"},{text:"Class",value:"the_class"},{text:"Exam",value:"exam"},{text:"Type",value:"test_type"},{text:"Max Marks",value:"max_marks"},{text:"Status",value:"is_completed"},{text:"Actions",value:"action",sortable:!1}],formTitle:"Schedule a new Test",dialog:!1,test_details:{the_class:"",exam:"",exam_list:[],exam_id_list:[],exam_id:"",start_dates:[],start_date:"",end_dates:[],end_date:"",start_classes:[],start_class:"",end_classes:[],end_class:"",menu:!1,test_date:"",confirm_date:!1,exam_type:"",exam_types:[],class_list:[],allowed_classes:[],section:"",section_list:[],subject:"",subject_list:[],grade_based:!1,max_marks:"",passing_marks:"",syllabus:"",date:""},confirm:!1,alert_type:"",alert_message:"",alert_color:"",showDismissibleAlert:!1,caption:"",waiting:!1}},mounted:function(){var t=this;t.school_id=this.$store.getters.get_school_id,t.teacher=this.$store.getters.get_logged_user,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/exam/get_tests");r.a.get(e,{params:{school_id:t.school_id,for_whom:"teacher",teacher:t.teacher}}).then(function(e){if(0==e.data.length)t.alert_message="You have not scheduled any Test",t.showDismissibleAlert=!0,t.alert_type="error";else{for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.date_conducted=e.data[s].date_conducted,a.the_class=e.data[s].the_class+" - "+e.data[s].section,a.section=e.data[s].section,a.subject=e.data[s].subject,a.exam=e.data[s].exam,a.test_type=e.data[s].test_type,a.grade_based=e.data[s].grade_based,1==e.data[s].grade_based?(a.max_marks="Grade Based",a.grade_based="Yes"):(a.max_marks=e.data[s].max_marks,a.grade_based="No");var i=e.data[s].is_completed;a.is_completed=1==i?"Completed":"Pending",t.tests.push(a)}console.log(t.tests),t.loading=!1}}).catch(function(t){console.log(t)})},methods:(nt={get_test_details:function(){var t=this;t.waiting=!0,console.log("inside get_clsses"),this.dialog=!0,r.a.all([r.a.get(t.ip.concat("/academics/get_exam_list_teacher/",t.teacher,"/")),r.a.get(t.ip.concat("/academics/class_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/section_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/subject_list/",t.school_id,"/"))]).then(r.a.spread(function(e,s,a,i){t.test_details.class_list=s.data,t.test_details.section_list=a.data,t.test_details.subject_list=i.data;for(var o=0;o<s.data.length;o++)t.test_details.class_list[o]=s.data[o].standard;for(o=0;o<a.data.length;o++)t.test_details.section_list[o]=a.data[o].section;for(o=0;o<i.data.length;o++)t.test_details.subject_list[o]=i.data[o].subject_name;for(o=0;o<e.data.length;o++)t.test_details.exam_id_list[o]=e.data[o].id,t.test_details.start_dates[o]=e.data[o].start_date,t.test_details.end_dates[o]=e.data[o].end_date,t.test_details.start_classes[o]=e.data[o].start_class,t.test_details.end_classes[o]=e.data[o].end_class,t.test_details.exam_types[o]=e.data[o].exam_type;console.log(t.test_details.start_classes),console.log(t.test_details.end_classes);var n=e.data.length;t.test_details.exam_list=e.data;for(o=0;o<n;o++)t.test_details.exam_list[o]=e.data[o].title})),t.waiting=!1},set_grade_based:function(t){console.log(this.test_details.grade_based),this.test_details.grade_based?this.test_details.max_marks=this.test_details.passing_marks="N/A":"term"!=this.test_details.exam_type?this.test_details.max_marks=this.test_details.passing_marks="":(this.test_details.max_marks=80,this.test_details.passing_marks=25)},exam_selected:function(){var t=this.test_details.exam_list.indexOf(this.test_details.exam);this.test_details.exam_id=this.test_details.exam_id_list[t],this.test_details.start_date=this.test_details.start_dates[t],this.test_details.test_date=this.test_details.start_date,this.test_details.end_date=this.test_details.end_dates[t],this.test_details.start_class=this.test_details.start_classes[t];var e=this.test_details.class_list.indexOf(this.test_details.start_class);this.test_details.end_class=this.test_details.end_classes[t];var s=this.test_details.class_list.indexOf(this.test_details.end_class);if(this.test_details.allowed_classes=this.test_details.class_list.slice(0,s+1),this.test_details.allowed_classes.splice(0,e),this.test_details.exam_type=this.test_details.exam_types[t],"term"==this.test_details.exam_type){["XI","XII"].indexOf(this.test_details.the_class)>-1?(this.test_details.max_marks=100,this.test_details.passing_marks=40):(this.test_details.max_marks=80,this.test_details.passing_marks=30)}else this.test_details.max_marks="",this.test_details.passing_marks=""},validate:function(){var t=!0;if(""==this.test_details.test_date&&(this.alert_message="Please select a date for this Test",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.test_details.max_marks&&(this.alert_message="Please enter Maximum Marks for this Test",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.test_details.passing_marks&&(this.alert_message="Please enter Passing Marks for this Test",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.test_details.subject&&(this.alert_message="Please select a Subject",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.test_details.section&&(this.alert_message="Please select a Section",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.test_details.the_class&&(this.alert_message="Please select a Class",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.test_details.exam&&(this.alert_message="Please select an Exam",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),t)if(this.test_details.test_date===this.test_details.start_date){this.test_details.confirm_date=!0;var e=this.test_details.test_date.split("-"),s=e[0],a=e[1],i=e[2]+"/"+a+"/"+s;this.caption="The date of test is same as the start date of this exam. Are you sure?",this.alert_message="Test date and Exam start date are same ("+i+"). Is this a coincidence?"}else this.confirm=!0,this.caption="Confirm Test Scheduling",this.alert_message="Are you sure you want to schedule this Test?"},schecule_test:function(){var t=this;this.confirm=!1,this.waiting=!0,this.loading=!0;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=this.$store.getters.get_logged_user;t.grade_based&&(t.max_marks=t.passing_marks=0);var i=e.concat("/exam/schedule_test/");console.log("url=",i),r.a.post(i,{school_id:s,teacher:a,exam_id:t.test_details.exam_id,the_class:t.test_details.the_class,section:t.test_details.section,subject:t.test_details.subject,date:t.test_details.test_date,grade_based:t.test_details.grade_based,max_marks:t.test_details.max_marks,passing_marks:t.test_details.passing_marks,syllabus:t.test_details.syllabus}).then(function(e){if(t.waiting=!1,t.loading=!1,t.dialog=!1,console.log(e),confirm(e.data.outcome),"Test successfully created"==e.data.outcome){console.log("trying to insert this test into the data table");var s={};s.id=e.data.id,s.date_conducted=t.test_details.test_date,s.the_class=t.test_details.the_class+" - "+t.test_details.section,s.section=t.test_details.section,s.subject=t.test_details.subject,s.exam=t.test_details.exam,s.test_type=e.data.type,"grade_based"==t.test_details.grade_based?(s.max_marks="Grade Based",s.grade_based="Yes"):(s.max_marks=t.test_details.max_marks+".00",s.grade_based="No"),s.is_completed="Pending",console.log("test = ",s),t.tests.splice(0,0,s),t.tests.push(s)}t.test_details.exam="",t.test_details.the_class="",t.test_details.section="",t.test_details.test_date="",t.test_details.subject="",t.test_details.max_marks="",t.test_details.passing_marks="",t.test_details.grade_based="",t.test_details.syllabus=""}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}},status_color:function(t){return"Pending"==t?"amber":"Completed"==t?"green":void 0}},A()(nt,"dismiss",function(){this.showDismissibleAlert=!1}),A()(nt,"showAlert",function(t){console.log(t),confirm("Are you sure you want to Enter/Update marks for this test ",t.id," ",t.subject,"a.date_coducted")&&this.$store.dispatch("set_student_id",t.id)}),A()(nt,"close",function(){var t=this;this.test_details.exam="",this.test_details.the_class="",this.test_details.section="",this.test_details.test_date="",this.test_details.subject="",this.test_details.max_marks="",this.test_details.passing_marks="",this.test_details.grade_based="",this.test_details.syllabus="",this.dialog=!1,setTimeout(function(){t.editedItem=ct()({},t.defaultItem),t.editedIndex=-1},300)}),A()(nt,"edit_item",function(t){console.log("inside edited item",t),this.$store.dispatch("set_class",t.the_class),this.$store.dispatch("set_section",t.section),this.$store.dispatch("set_subject",t.subject),this.$store.dispatch("set_exam",t.exam),this.$store.dispatch("set_test",t.id),this.$store.dispatch("set_grade_based",t.grade_based),this.$store.dispatch("set_test_type",t.test_type),this.$store.dispatch("set_max_marks",t.max_marks),this.$router.replace("/marks_entry")}),nt)},_t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-col",{attrs:{cols:"12",md:"10","offset-sm4":""}},[[s("v-data-table",{staticClass:"elevation-1",attrs:{dark:"",loading:"","loading-text":"Fetching tests... Please wait",headers:t.headers,items:t.tests,"item-key":"id","items-per-page":10},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"blue"}},[s("v-toolbar-title",[t._v("Test List")]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dark:""},on:{click:t.get_test_details,"v-on":a}},[t._v("Schedule Test")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),s("v-card",[[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-select",{attrs:{items:t.test_details.exam_list,label:"Exam"},on:{change:t.exam_selected,focus:function(e){return t.dismiss()}},model:{value:t.test_details.exam,callback:function(e){t.$set(t.test_details,"exam",e)},expression:"test_details.exam"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-select",{attrs:{items:t.test_details.allowed_classes,label:"Class"},on:{change:t.exam_selected,focus:function(e){return t.dismiss()}},model:{value:t.test_details.the_class,callback:function(e){t.$set(t.test_details,"the_class",e)},expression:"test_details.the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-select",{attrs:{items:t.test_details.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.test_details.section,callback:function(e){t.$set(t.test_details,"section",e)},expression:"test_details.section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-select",{attrs:{items:t.test_details.subject_list,label:"Subject"},on:{focus:function(e){return t.dismiss()}},model:{value:t.test_details.subject,callback:function(e){t.$set(t.test_details,"subject",e)},expression:"test_details.subject"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.test_details.test_date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.test_details,"test_date",e)},"update:return-value":function(e){return t.$set(t.test_details,"test_date",e)}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({attrs:{label:"Date of Test","prepend-icon":"event",readonly:""},on:{click:function(e){return t.dismiss()}},model:{value:t.test_details.test_date,callback:function(e){t.$set(t.test_details,"test_date",e)},expression:"test_details.test_date"}},a))]}}]),model:{value:t.test_details.menu,callback:function(e){t.$set(t.test_details,"menu",e)},expression:"test_details.menu"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",color:"green lighten-1",min:t.test_details.start_date,max:t.test_details.end_date,scrollable:""},model:{value:t.test_details.test_date,callback:function(e){t.$set(t.test_details,"test_date",e)},expression:"test_details.test_date"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.test_details.menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.test_details.test_date)}}},[t._v("OK")])],1)],1)],1)],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-checkbox",{attrs:{label:"Grade Based?",value:"grade_based"},on:{change:function(e){return t.set_grade_based()}},model:{value:t.test_details.grade_based,callback:function(e){t.$set(t.test_details,"grade_based",e)},expression:"test_details.grade_based"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{label:"Max Marks",disabled:"term"==t.test_details.exam_type||"grade_based"==t.test_details.grade_based},on:{focus:function(e){return t.dismiss()}},model:{value:t.test_details.max_marks,callback:function(e){t.$set(t.test_details,"max_marks",e)},expression:"test_details.max_marks"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{label:"Pass Marks",disabled:"term"==t.test_details.exam_type||"grade_based"==t.test_details.grade_based},on:{focus:function(e){return t.dismiss()}},model:{value:t.test_details.passing_marks,callback:function(e){t.$set(t.test_details,"passing_marks",e)},expression:"test_details.passing_marks"}})],1)],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-text-field",{attrs:{label:"Syllabus (optional)"},on:{focus:function(e){return t.dismiss()}},model:{value:t.test_details.syllabus,callback:function(e){t.$set(t.test_details,"syllabus",e)},expression:"test_details.syllabus"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"orange"},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{color:"green"},on:{click:t.validate}},[t._v("Schedule")])],1)],2)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"440"},model:{value:t.test_details.confirm_date,callback:function(e){t.$set(t.test_details,"confirm_date",e)},expression:"test_details.confirm_date"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.test_details.confirm_date=!1,t.confirm=!0,t.caption="Confirm Test Scheduling",t.alert_message="Are you sure you want to schedule this Test?"}}},[t._v("Yes, Date is Correct")]),t._v(" "),s("v-btn",{attrs:{color:"amber darken-1",text:""},on:{click:function(e){t.test_details.confirm_date=!1}}},[t._v("Change Date")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"440"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.schecule_test()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirm=!1,t.alert_color=""}}},[t._v("Cancel")])],1)],1)],1)],1)]},proxy:!0},{key:"item.max_marks",fn:function(e){var a=e.item;return[s("v-chip",{attrs:{small:"",color:"teal",dark:""}},[t._v(t._s(a.max_marks))])]}},{key:"item.is_completed",fn:function(e){var a=e.item;return[s("v-chip",{attrs:{outlined:"",color:t.status_color(a.is_completed)}},[t._v(t._s(a.is_completed))])]}},{key:"item.action",fn:function(e){var a=e.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.edit_item(a)}}},[t._v("edit")]),t._v(" "),s("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v("delete")])]}},{key:"expanded-item",fn:function(e){var a=e.item;return[s("v-card",{attrs:{flat:""}},[s("v-card-subtitle",{staticClass:"headline mb-0"},[t._v("Exam "+t._s(a.exam)+" Marks Entry - Subject: "+t._s(a.subject)+" Class: "+t._s(a.the_class))]),t._v(" "),s("v-card-text"),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{text:""}},[t._v("Save")]),t._v(" "),s("v-btn",{attrs:{text:""}},[t._v("Submit")])],1)],1)]}}])})]],2)],1)},staticRenderFns:[]};var ut=s("VU/8")(dt,_t,!1,function(t){s("T8P2")},null,null).exports,ht={name:"MarksEntry",data:function(){return{ip:"",the_class:"",section:"",subject:"",exam:"",test_id:"",grade_based:!1,test_type:"",max_marks:"",marks_list:[],main_marks:"Marks",disable_prac:!1,disable_pa:!1,disable_notebook:!1,disable_multi:!1,disable_sub_enrich:!1,higher_class:!1,loading:"",waiting:"",showDismissibleAlert:!1,confirm:!1,alert_message:"",alert_type:"",alert_color:""}},mounted:function(){var t=this,e=this.$store.getters;t.the_class=e.get_class,t.subject=e.get_subject,t.exam=e.get_exam,t.test_id=e.get_test,t.grade_based=e.get_grade_based,t.test_type=e.get_test_type,t.max_marks=e.get_max_marks,console.log("test_type = ",t.test_type),console.log("grade_based = ",t.grade_based);var s=t.the_class.slice(0,-4);"XI"!=s&&"XII"!=s||(t.higher_class=!0),console.log("higher_class = ",s),t.ip=e.get_server_ip;var a=t.ip.concat("/exam/get_test_marks_list");r.a.get(a,{params:{test_id:t.test_id}}).then(function(e){if(0==e.data.length)t.alert_message="This test has no results",t.showDismissibleAlert=!0,t.alert_type="error",t.alert_color="red";else{for(var s=0;s<e.data.length;s++){var a={};a.s_no=s+1,a.absent=!1,a.id=e.data[s].id,a.student=e.data[s].student,a.marks_obtained=e.data[s].marks_obtained,"-5000.00"==e.data[s].marks_obtained&&(a.marks_obtained=""),"-1000.00"==e.data[s].marks_obtained&&(a.marks_obtained="ABS",a.absent=!0),a.grade=e.data[s].grade,a.periodic_test_marks=e.data[s].periodic_test_marks,-5e3==e.data[s].periodic_test_marks&&(a.periodic_test_marks=""),"N/A"==e.data[s].periodic_test_marks&&(t.disable_pa=!0),a.multi_asses_marks=e.data[s].multi_asses_marks,-5e3==e.data[s].multi_asses_marks&&(a.multi_asses_marks=""),"N/A"==e.data[s].multi_asses_marks&&(t.disable_multi=!0),a.notebook_marks=e.data[s].notebook_marks,-5e3==e.data[s].notebook_marks&&(a.notebook_marks=""),"N/A"==e.data[s].notebook_marks&&(t.disable_notebook=!0),a.sub_enrich_marks=e.data[s].sub_enrich_marks,-5e3==e.data[s].sub_enrich_marks&&(a.sub_enrich_marks=""),"N/A"==e.data[s].sub_enrich_marks&&(t.disable_sub_enrich=!0),a.prac_marks=e.data[s].prac_marks,null==e.data[s].prac_marks&&(a.prac_marks="N/A",t.disable_prac=!0),-5e3==e.data[s].prac_marks&&(a.prac_marks="",a.periodic_test_marks="N/A",a.notebook_marks="N/A",a.sub_enrich_marks="N/A",a.multi_asses_marks="N/A",t.disable_pa=!0,t.disable_multi=!0,t.disable_notebook=!0,t.disable_sub_enrich=!0),t.marks_list.push(a)}t.loading=!1}}).catch(function(t){console.log(t)})},methods:{dismiss:function(){this.showDismissibleAlert=!1},mark_absence:function(t){this.showDismissibleAlert=!1,t.absent?this.marks_list[t.s_no-1].marks_obtained="ABS":this.marks_list[t.s_no-1].marks_obtained=""},compare_with_max:function(t){t.marks_obtained>this.max_marks&&(this.showDismissibleAlert=!0,this.alert_message="Marks entered for "+t.student+" are higher than Marks "+this.max_marks,this.alert_color="amber")},submit_marks:function(){for(var t=0;t<this.marks_list.length;t++)if(""==this.marks_list[t].marks_obtained)return console.log(this.marks_list[t]),this.showDismissibleAlert=!0,this.alert_message="Please enter marks or mark as Absent for "+this.marks_list[t].student,void(this.alert_color="red");if("term"==this.test_type){for(t=0;t<this.marks_list.length;t++){if(""==this.marks_list[t].periodic_test_marks)return this.showDismissibleAlert=!0,this.alert_message="Please enter PA (UT Average) marks for "+this.marks_list[t].student,void(this.alert_color="red");if(""==this.marks_list[t].notebook_marks)return this.showDismissibleAlert=!0,this.alert_message="Please enter Portfolio marks for "+this.marks_list[t].student,void(this.alert_color="red");if(""==this.marks_list[t].sub_enrich_marks)return this.showDismissibleAlert=!0,this.alert_message="Please enter Sub Enrichment marks for "+this.marks_list[t].student,void(this.alert_color="red");if(""==this.marks_list[t].multi_asses_marks)return this.showDismissibleAlert=!0,this.alert_message="Please enter Multiple Assessment marks for "+this.marks_list[t].student,void(this.alert_color="red");"No"==this.grade_based?(params1.marks=this.marks_list[t].marks_obtained,""==this.marks_list[t].marks_obtained&&(params1.marks="-5000.00"),"ABS"==this.marks_list[t].marks_obtained&&(params1.marks="-1000.0"),""==this.marks_list[t].periodic_test_marks?params1.pa="-5000.0":params1.pa=this.marks_list[t].periodic_test_marks,""==this.marks_list[t].notebook_marks?params1.notebook="-5000.0":params1.notebook=this.marks_list[t].notebook_marks,""==this.marks_list[t].multi_asses_marks?params1.multi_assess="-5000.0":params1.multi_assess=this.marks_list[t].multi_asses_marks,""==this.marks_list[t].sub_enrich_marks?params1.subject_enrich="-5000.0":params1.subject_enrich=this.marks_list[t].sub_enrich_marks,""==this.marks_list[t].prac_marks?params1.prac_marks="-5000.0":params1.prac_marks=this.marks_list[t].prac_marks,params[this.marks_list[t].id]=params1):params[this.marks_list[t].id]=this.marks_list[t].marks_obtained}var e=this.$store.getters.get_server_ip.concat("/academics/submit_marks/");r.a.post(e,{params:params}).then(function(t){}).catch(function(t){console.log(t)}).then(function(){}),console.log(params)}},save_marks:function(){for(var t={},e=0;e<this.marks_list.length;e++){var s={};console.log("grade_based = ",this.grade_based),"No"==this.grade_based?(s.marks=this.marks_list[e].marks_obtained,""==this.marks_list[e].marks_obtained&&(s.marks="-5000.00"),"ABS"==this.marks_list[e].marks_obtained&&(s.marks="-1000.0"),""==this.marks_list[e].periodic_test_marks?s.pa="-5000.0":s.pa=this.marks_list[e].periodic_test_marks,""==this.marks_list[e].notebook_marks?s.notebook="-5000.0":s.notebook=this.marks_list[e].notebook_marks,""==this.marks_list[e].multi_asses_marks?s.multi_assess="-5000.0":s.multi_assess=this.marks_list[e].multi_asses_marks,""==this.marks_list[e].sub_enrich_marks?s.subject_enrich="-5000.0":s.subject_enrich=this.marks_list[e].sub_enrich_marks,""==this.marks_list[e].prac_marks?s.prac_marks="-5000.0":s.prac_marks=this.marks_list[e].prac_marks,t[this.marks_list[e].id]=s):t[this.marks_list[e].id]=this.marks_list[e].marks_obtained}var a=this.$store.getters.get_server_ip.concat("/academics/save_marks/");r.a.post(a,{params:t}).then(function(t){}).catch(function(t){console.log(t)}).then(function(){}),console.log(t)}}},mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",{staticStyle:{margin:"0px 0px 0px"}},[[s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-toolbar",{attrs:{color:"#FEDBD0",elevation:"5"}},[s("v-toolbar-title",[t._v("Marks Entry")]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Exam: "+t._s(t.exam))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Class: "+t._s(t.the_class))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Subject: "+t._s(t.subject))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Max Marks: "+t._s(t.max_marks))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-chip",{attrs:{loading:t.loading,disabled:t.loading,"text-color":"white",color:"#442C2E"},on:{click:[function(e){t.loader="loading"},function(e){return t.save_marks()}]}},[t._v("\n            Save\n          "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-chip",{attrs:{loading:t.loading,disabled:t.loading,color:"#4E0D3A","text-color":"white"},on:{click:[function(e){t.loader="loading"},function(e){return t.submit_marks()}]}},[t._v("\n          Submit\n          "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)]),t._v(" "),s("v-spacer")],1)],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[s("v-simple-table",{attrs:{"fixed-header":"",height:"450px",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("S No")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Student")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v(t._s(t.main_marks))]),t._v(" "),t.higher_class?s("th",{staticClass:"text-left"},[t._v("Practical")]):t._e(),t._v(" "),t.higher_class?t._e():s("th",{staticClass:"text-left"},[t._v("PA (UT Average)")]),t._v(" "),t.higher_class?t._e():s("th",{staticClass:"text-left"},[t._v("Portfolio")]),t._v(" "),t.higher_class?t._e():s("th",{staticClass:"text-left"},[t._v("Subject Enrichment")]),t._v(" "),t.higher_class?t._e():s("th",{staticClass:"text-left"},[t._v("Multi Asses")]),t._v(" "),s("th",{staticClass:"text-left"},[t._v("Absent?")])])]),t._v(" "),s("tbody",t._l(t.marks_list,function(e){return s("tr",{key:e.id},[s("td",{attrs:{width:"5%"}},[t._v(t._s(e.s_no))]),t._v(" "),s("td",{staticClass:"text-left",attrs:{width:"20%"}},[t._v(t._s(e.student))]),t._v(" "),s("td",{attrs:{width:"10%"}},[s("v-text-field",{staticClass:"pa-0 ma-0",attrs:{value:e.marks_obtained,disabled:e.disabled},on:{focus:function(e){return t.dismiss()}},model:{value:e.marks_obtained,callback:function(s){t.$set(e,"marks_obtained",s)},expression:"item.marks_obtained"}})],1),t._v(" "),t.higher_class?s("td",{attrs:{width:"10%"}},[s("v-text-field",{staticClass:"pa-0 ma-0",attrs:{value:e.prac_marks,disabled:t.disable_prac},on:{focus:function(e){return t.dismiss()}},model:{value:e.prac_marks,callback:function(s){t.$set(e,"prac_marks",s)},expression:"item.prac_marks"}})],1):t._e(),t._v(" "),t.higher_class?t._e():s("td",{attrs:{width:"10%"}},[s("v-text-field",{staticClass:"pa-0 ma-0",attrs:{value:e.periodic_test_marks,disabled:t.disable_pa},on:{focus:function(e){return t.dismiss()}},model:{value:e.periodic_test_marks,callback:function(s){t.$set(e,"periodic_test_marks",s)},expression:"item.periodic_test_marks"}})],1),t._v(" "),t.higher_class?t._e():s("td",{attrs:{width:"10%"}},[s("v-text-field",{staticClass:"pa-0 ma-0",attrs:{value:e.notebook_marks,disabled:t.disable_notebook},on:{focus:function(e){return t.dismiss()}},model:{value:e.notebook_marks,callback:function(s){t.$set(e,"notebook_marks",s)},expression:"item.notebook_marks"}})],1),t._v(" "),t.higher_class?t._e():s("td",{attrs:{width:"10%"}},[s("v-text-field",{staticClass:"pa-0 ma-0",attrs:{value:e.sub_enrich_marks,disabled:t.disable_sub_enrich},on:{focus:function(e){return t.dismiss()}},model:{value:e.sub_enrich_marks,callback:function(s){t.$set(e,"sub_enrich_marks",s)},expression:"item.sub_enrich_marks"}})],1),t._v(" "),t.higher_class?t._e():s("td",{attrs:{width:"10%"}},[s("v-text-field",{staticClass:"pa-0 ma-0",attrs:{value:e.multi_asses_marks,disabled:t.disable_multi},on:{focus:function(e){return t.dismiss()}},model:{value:e.multi_asses_marks,callback:function(s){t.$set(e,"multi_asses_marks",s)},expression:"item.multi_asses_marks"}})],1),t._v(" "),s("td",[s("v-checkbox",{staticClass:"pa-0",attrs:{label:"Absent",value:e.absent},on:{change:function(s){return t.mark_absence(e)}},model:{value:e.absent,callback:function(s){t.$set(e,"absent",s)},expression:"item.absent"}})],1)])}),0)]},proxy:!0}])})],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}})]],2)},staticRenderFns:[]},vt=s("VU/8")(ht,mt,!1,null,null,null).exports,ft={name:"ExamResults",data:function(){return{ip:"",school_id:"",loader:null,loading:!1,loading_text:"Fetching student list for this class... Please wait",class_not_selected:"Please select a Class & Section",reg_no:"",the_class:"",class_list:[],section:"",section_list:[],class_teacher:"",student_list:[],download:!1,promote_dialog:!1,detain_dialog:!1,display_marks:!1,dialog:"",current_status:"",operated_student:"",operated_student_id:"",detain_reason:"",term_marks1:[],term_marks2:[],color1:[],color2:[],active_term:"",waiting:!1,alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",headers:[{text:"S No",value:"s_no"},{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Term Marks Details",value:"action",sortable:!1},{text:"Promotion Status",value:"promotion_status"},{text:"Not Promoted Reason",value:"detain_reason"}]}},mounted:function(){var t=this;t.waiting=!0,t.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip;t.ip.concat("/academics/class_list/",t.school_id,"/");r.a.all([r.a.get(t.ip.concat("/academics/class_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/section_list/",t.school_id,"/"))]).then(r.a.spread(function(e,s){t.class_list=e.data,t.section_list=s.data;for(var a=0;a<e.data.length;a++)t.class_list[a]=e.data[a].standard;for(a=0;a<s.data.length;a++)t.section_list[a]=s.data[a].section;t.waiting=!1}))},methods:{get_student_list:function(){var t=this;if(t.student_list=[],""!=this.the_class&&""!=this.section){var e=t.ip.concat("/teachers/get_class_teacher/?school_id=",t.school_id,"&the_class=",this.the_class,"&section=",this.section);r.a.get(e).then(function(e){console.log(e),t.class_teacher=e.data.class_teacher}).catch(function(t){console.log(t)});var s=t.ip.concat("/exam/get_promotion_list/?school_id=",t.school_id,"&the_class=",this.the_class,"&section=",this.section);r.a.get(s).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.s_no=s+1,a.name=e.data[s].student,1==e.data[s].status?a.promotion_status="promoted":a.promotion_status="not promoted",a.detain_reason=e.data[s].detain_reason,t.student_list.push(a)}t.download=!0}).catch(function(t){console.log(t)})}},promote:function(t){this.promote_dialog=!0,this.operated_student=t.name,this.operated_student_id=t.id},set_promote_reason:function(){this.promote_dialog=!1;for(var t=0;t<this.student_list.length;t++)this.student_list[t].id==this.operated_student_id&&(this.student_list[t].detain_reason="N/A",this.student_list[t].promotion_status="promoted",this.detain_reason="")},cancel_promote:function(){this.promote_dialog=!1;for(var t=0;t<this.student_list.length;t++)this.student_list[t].id==this.operated_student_id&&(this.student_list[t].promotion_status="not promoted")},detain:function(t){this.detain_dialog=!0,this.operated_student=t.name,this.operated_student_id=t.id,this.current_status=t.promotion_status,"N/A"==t.detain_reason?this.detain_reason="":this.detain_reason=t.detain_reason},set_detain_reason:function(){if(""==this.detain_reason)alert("Detain reason not provided. Please provide Detain Reason"),this.detain_dialog=!0;else{this.detain_dialog=!1;for(var t=0;t<this.student_list.length;t++)this.student_list[t].id==this.operated_student_id&&(this.student_list[t].detain_reason=this.detain_reason,this.student_list[t].promotion_status="not promoted",this.detain_reason="")}},cancel_detain:function(){this.detain_dialog=!1,this.detain_reason="N/A";for(var t=0;t<this.student_list.length;t++)this.student_list[t].id==this.operated_student_id&&(this.student_list[t].detain_reason=this.detain_reason,this.student_list[t].promotion_status="promoted",this.detain_reason="N/A")},save_results:function(){for(var t=this,e={},s=0;s<this.student_list.length;s++){var a={};a.promotion_status=this.student_list[s].promotion_status,a.detain_reason=this.student_list[s].detain_reason,e[this.student_list[s].id]=a}var i=this.ip.concat("/exam/process_promotion/");this.waiting=!0,r.a.post(i,e).then(function(e){console.log(e.data),t.waiting=!1,alert("Data Saved")}).catch(function(t){console.log(t)})},download_excel:function(){var t=this;t.waiting=!0;var e=t.ip.concat("/exam/get_promotion_excel/");r.a.post(e,{school_id:t.school_id,the_class:t.the_class,section:t.section},{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){t.waiting=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="Promotion_List_"+t.the_class+"_"+t.section+".xlsx";a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Promotion List Downloaded")}).catch(function(t){console.log(t)}).then(function(){})},get_marks:function(t){this.operated_student=t.name;var e=this;e.waiting=!0;var s=this.ip.concat("/exam/get_student_marks/?result_id=",t.id);r.a.get(s).then(function(t){console.log(t.data),e.term_marks1=[],e.term_marks2=[],e.color1=[],e.color2=[];for(var s=0;s<t.data.length;s++){var a="",i="",o=t.data[s].subject,n=t.data[s].marks;if("XI"==e.the_class||"XII"==e.the_class){var r=t.data[s].prac_marks,l=t.data[s].total_marks,c=t.data[s].exam;c.includes("Term-I ")&&(a=a.concat(o," |  Therory: ",n," |  Prac: ",r," |  Total: ",l),n>=60&&e.color1.push("#00E676"),n<60&&n>=40&&e.color1.push("#1E88E5"),n<40&&e.color1.push("#FF5722")),c.includes("Term-II ")&&(i=i.concat(t.data[s].subject," |  Theory: ",n," |  Prac: ",r," |  Total: ",l),n>=60&&e.color2.push("#00E676"),n<60&&n>=40&&e.color2.push("#1E88E5"),n<40&&e.color2.push("#FF5722"))}else{var d=t.data[s].periodic_test_marks,_=t.data[s].multi_asses_marks,u=t.data[s].portfolio_marks,h=t.data[s].sub_enrich_marks,m=t.data[s].total_marks,v=t.data[s].exam;v.includes("Term-I (")&&(a=a.concat(t.data[s].subject," |  Marks: ",n," |  PA: ",d," |  Mult Asse: ",_," |  Port: ",u," |  Sub En: ",h," |  Total: ",m),n>=60&&e.color1.push("#00E676"),n<60&&n>=40&&e.color1.push("#1E88E5"),n<40&&e.color1.push("#FF5722")),v.includes("Term-II (")&&(i=i.concat(t.data[s].subject," |  Marks: ",n," |  PA: ",d," |  Mult Asse: ",_," |  Port: ",u," |  Sub En: ",h," |  Total: ",m),n>=60&&e.color2.push("#00E676"),n<60&&n>=40&&e.color2.push("#1E88E5"),n<40&&e.color2.push("#FF5722"))}"Term I"==e.active_term?""!=a&&e.term_marks1.push(a):""!=i&&e.term_marks2.push(i)}e.waiting=!1,e.display_marks=!0}).catch(function(t){console.log(t)})}},dismiss:function(){this.showDismissibleAlert=!1}},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",{staticClass:"ma-0"},[[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{scrollable:"","max-width":"700px"},model:{value:t.display_marks,callback:function(e){t.display_marks=e},expression:"display_marks"}},[s("v-card",[s("v-card-title",[t._v("\n                "+t._s(t.operated_student)+"\n                "),s("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),t._v("\n                "+t._s(t.active_term)+"\n              ")],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticStyle:{height:"250px"}},[s("div",{staticClass:"font-weight-black"}),t._v(" "),"Term I"==t.active_term?s("v-chip-group",{attrs:{multiple:"",column:"","active-class":"primary--text;"}},t._l(t.term_marks1,function(e,a){return s("v-chip",{key:e,attrs:{outlined:"",color:t.color1[a]}},[t._v(t._s(e))])}),1):t._e(),t._v(" "),"Term II"==t.active_term?s("v-chip-group",{attrs:{multiple:"",column:"","active-class":"primary--text;"}},t._l(t.term_marks2,function(e,a){return s("v-chip",{key:e,attrs:{outlined:"",color:t.color2[a]}},[t._v(t._s(e))])}),1):t._e()],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.display_marks=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"520px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.promote_dialog,callback:function(e){t.promote_dialog=e},expression:"promote_dialog"}},[t._v(" "),s("v-card",[s("v-card-title",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.operated_student))])])],1),t._v(" "),s("v-card-subtitle",[s("hr"),t._v(" "),s("h5",[t._v("You are changing status to Promoted. Please Confirm")])]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cancel_promote()}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.set_promote_reason()}}},[t._v("Confirm")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"520px"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.detain_dialog,callback:function(e){t.detain_dialog=e},expression:"detain_dialog"}},[t._v(" "),s("v-card",[s("v-card-title",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.operated_student))])])],1),t._v(" "),s("v-card-subtitle",[s("hr"),t._v(" "),s("h5",[t._v("You are changing status to Not Promoted. Please mention reason")])]),t._v(" "),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Reason*",required:""},model:{value:t.detain_reason,callback:function(e){t.detain_reason=e},expression:"detain_reason"}},[t._v(t._s(t.detain_reason))])],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cancel_detain()}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.detain_dialog=!1,t.set_detain_reason()}}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),s("v-data-table",{attrs:{dark:"",dense:"",loading:"","loading-text":""==t.the_class||""==t.section?t.class_not_selected:t.loading_text,headers:t.headers,items:t.student_list,"items-per-page":7},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"#827717"}},[s("v-chip",{staticClass:"mt-4",attrs:{color:"#827717",label:""}},[s("div",{staticClass:"text-uppercase"},[t._v("Student Promotion Operations")])]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-select",{staticClass:"mt-7",attrs:{items:t.class_list,label:"Class"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-select",{staticClass:"mt-7",attrs:{items:t.section_list,label:"Sec"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-text-field",{staticClass:"mt-7",attrs:{label:"Class Teacher",disabled:""},model:{value:t.class_teacher,callback:function(e){t.class_teacher=e},expression:"class_teacher"}}),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){return e.on,[s("v-btn",{staticClass:"mb-0",attrs:{color:"#9575CD",dark:"",disabled:!t.download},on:{click:t.save_results}},[t._v("Save")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}}),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){return e.on,[s("v-btn",{staticClass:"mb-0",attrs:{color:"#7986CB",dark:"",disabled:!t.download},on:{click:t.download_excel}},[t._v("Download")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)]},proxy:!0},{key:"item.action",fn:function(e){var a=e.item;return[s("v-icon",{attrs:{large:"",color:"#FFB74D"},on:{click:function(e){t.active_term="Term I",t.get_marks(a)}}},[t._v("mdi-numeric-1-box")]),t._v(" "),s("v-icon",{attrs:{large:"",color:"#EEFF41"},on:{click:function(e){t.active_term="Term II",t.get_marks(a)}}},[t._v("mdi-numeric-2-box")])]}},{key:"item.promotion_status",fn:function(e){var a=e.item;return[s("v-radio-group",{staticClass:"mb-n2",attrs:{dense:"",row:""},model:{value:a.promotion_status,callback:function(e){t.$set(a,"promotion_status",e)},expression:"item.promotion_status"}},[s("v-radio",{attrs:{label:"promoted",value:"promoted",color:"green"},on:{change:function(e){return t.promote(a)}}}),t._v(" "),s("v-radio",{attrs:{label:"not promoted",value:"not promoted",color:"red"},on:{change:function(e){return t.detain(a)}}})],1)]}}])})],1)],1)],2)],1)},staticRenderFns:[]};var gt=s("VU/8")(ft,pt,!1,function(t){s("HmbM")},null,null).exports,bt={name:"StudentAttendance",data:function(){return{get_student_list:function(){var t=this.$store.getters.get_school_id,e=this.$store.getters.get_server_ip;return r.a.get(e.concat("/student/list/",t,"/",this.the_class,"/",this.section,"/"))},get_absentees_list:function(){var t=this.$store.getters.get_school_id,e=this.$store.getters.get_server_ip,s=this.date.split("-"),a=s[0];this.yyyy=a;var i=s[1];this.mm=i;var o=s[2];return this.dd=o,this.ddmmyyyy=o+"-"+i+"-"+a,r.a.get(e.concat("/attendance/retrieve/",t,"/",this.the_class,"/",this.section,"/",this.subject,"/",o,"/",i,"/",a,"/"))},loader:null,loading:!1,loading_text:"Fetching student list for this class... Please wait",class_not_selected:"Please select a Class & Section",reg_no:"",the_class:"",class_list:[],section:"",section_list:[],subject:"Main",subject_list:[],date:(new Date).toISOString().substr(0,10),dd:"",mm:"",yyyy:"",ddmmyyyy:"",menu:"",students:[],absentee_list:[],correction_list:[],total:"",present:"",absent:"",dialog:"",show_student_list:!1,waiting:!1,alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",headers:[{text:"S No",value:"s_no"},{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Present/Absent",value:"presence"}]}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip;s.concat("/academics/class_list/",e,"/");r.a.all([r.a.get(s.concat("/academics/class_list/",e,"/")),r.a.get(s.concat("/academics/section_list/",e,"/")),r.a.get(s.concat("/academics/subject_list/",e,"/"))]).then(r.a.spread(function(e,s,a){t.class_list=e.data,t.section_list=s.data,t.subject_list=a.data;for(var i=0;i<e.data.length;i++)t.class_list[i]=e.data[i].standard;for(i=0;i<s.data.length;i++)t.section_list[i]=s.data[i].section;for(i=0;i<a.data.length;i++)t.subject_list[i]=a.data[i].subject_name}))},methods:{get_attendance_list:function(){var t=this;""!=this.the_class&&""!=this.section&&(this.students=[],this.absentee_list=[],r.a.all([this.get_student_list(),this.get_absentees_list()]).then(r.a.spread(function(e,s){t.absent=s.data.length;for(var a=0;a<s.data.length;a++)t.absentee_list.push(s.data[a].student);t.total=e.data.length,t.present=t.total-t.absent;for(a=0;a<e.data.length;a++){var i={};i.s_no=a+1,i.id=e.data[a].id,t.absentee_list.indexOf(i.id)>-1?(i.presence="absent",i.toggle="toggle_off",i.presence_color="#EF5350"):(i.presence="present",i.toggle="toggle_on",i.presence_color="green darken-2"),i.name=e.data[a].fist_name+" "+e.data[a].last_name,t.students.push(i)}t.show_student_list=!0,t.waiting=!1})))},status_color:function(t){return"absent"==t?"#EF5350":"present"==t?"#4CAF50":void 0},mark_absence:function(t){var e=this.absentee_list.indexOf(t.id);if(e>-1)this.absentee_list.splice(e,1),this.correction_list.push(t.id),t.presence="present",this.present+=1,this.absent-=1,t.toggle="toggle_on",t.presence_color="green darken-2";else{this.absentee_list.push(t.id);var s=this.correction_list.indexOf(t.id);s>-1&&this.correction_list.splice(s,1),t.presence="absent",this.present-=1,this.absent+=1,t.toggle="toggle_off",t.presence_color="orange darken-2"}},dismiss:function(){this.showDismissibleAlert=!1},process_attendance:function(){var t,e=this;if(confirm("Are you sure you want to Submit this Attendance?")){this.waiting=!0;var s=e.$store.getters.get_school_id,a=e.$store.getters.get_server_ip,i=e.$store.getters.get_logged_user;r.a.all([(t=a.concat("/attendance/attendance_taken/",s,"/",e.the_class,"/",e.section,"/",e.subject,"/",e.dd,"/",e.mm,"/",e.yyyy,"/",i,"/"),r.a.post(t)),function(){for(var t={},o=0;o<e.absentee_list.length;o++)t[e.absentee_list[o]]=e.absentee_list[o];var n=a.concat("/attendance/update1/",s,"/",e.the_class,"/",e.section,"/",e.subject,"/",e.dd,"/",e.mm,"/",e.yyyy,"/",i,"/");return r.a.post(n,t)}(),function(){for(var t={},i=0;i<e.correction_list.length;i++)t[e.correction_list[i]]=e.correction_list[i];var o=a.concat("/attendance/delete2/",s,"/",e.the_class,"/",e.section,"/",e.subject,"/",e.dd,"/",e.mm,"/",e.yyyy,"/");return r.a.post(o,t)}()]).then(r.a.spread(function(t,s,a){e.waiting=!1,confirm("Attendance submitted to server"),e.show_student_list=!1}))}}}},xt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",{staticClass:"ma-0"},[[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-col",{staticClass:"mx-auto",attrs:{cols:"10",md:"10"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dark:"",loading:"","loading-text":""==t.the_class||""==t.section?t.class_not_selected:t.loading_text,headers:t.headers,items:t.students},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"#8D6E63"}},[s("v-chip",{staticClass:"mt-4",attrs:{color:"#8D6E63",label:""}},[s("div",{staticClass:"text-uppercase"},[t._v("Student Attendance")])]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{staticClass:"mt-7",attrs:{items:t.class_list,label:"Class"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_attendance_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-select",{staticClass:"mt-7",attrs:{items:t.section_list,label:"Sec"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_attendance_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{staticClass:"mt-7",attrs:{disabled:"",items:t.subject_list,label:"Subject"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_attendance_list()}},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"2"}},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({staticClass:"mt-7",attrs:{label:"Date","prepend-icon":"event",readonly:""},on:{click:function(e){return t.dismiss()},change:function(e){return t.get_attendance_list()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",color:"green lighten-1",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.get_attendance_list(),t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)],1)],1)]},proxy:!0},{key:"item.presence",fn:function(e){var a=e.item;return[s("v-chip",{attrs:{color:t.status_color(a.presence)},on:{click:function(e){return t.mark_absence(a)}}},[t._v(t._s(a.presence))])]}},{key:"footer",fn:function(){return[s("div",[s("v-toolbar",{attrs:{dense:"",flat:"",color:"#FBC02D"}},[s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Total: "+t._s(t.total))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{color:"#BDBDBD",inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Present: "+t._s(t.present))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{color:"#BDBDBD",inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Absent: "+t._s(t.absent))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{color:"#BDBDBD",inset:"",vertical:""}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"mb-0",attrs:{color:"#1A237E",dark:""},on:{click:t.process_attendance}},a),[t._v("Submit")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)],1)]},proxy:!0}])})],1)],1)],2)],1)},staticRenderFns:[]};var wt=s("VU/8")(bt,xt,!1,function(t){s("ax6h")},null,null).exports,kt={data:function(){return{whole_class:!1,the_class:"",class_list:[],section:"",section_list:[],student:"",student_list:[],recepients:[],message:"",rules:[function(t){return t.length<=400||"Max 400 characters"}],image_included:!1,uploadFieldName:"",selectedFile:null,ip:"",school_id:"",headers:[{text:"S No",align:"left",sortable:!1,value:"s_no"},{text:"Student",value:"name"}],selected:[],colors:[],loader:null,loading:!1,loading_text:"Fetching student list for this class... Please wait",class_not_selected:"Please select a Class & Section",confirm:"",caption:"",alert_type:"",alert_message:"",alert_color:"",showDismissibleAlert:!1,waiting:!1}},mounted:function(){var t=this;this.school_id=this.$store.getters.get_school_id,t.colors=this.$store.getters.get_colors,t.ip=this.$store.getters.get_server_ip;var e=t.ip.concat("/academics/class_list/",this.school_id,"/");r.a.get(e).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var s=t.ip.concat("/academics/section_list/",this.school_id,"/");r.a.get(s).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{get_student_list:function(){var t=this;if(t.student_list=[],t.recepients=[],t.whole_class=!1,""!=this.the_class&&""!=this.section){var e=t.ip.concat("/student/list/",this.school_id,"/",this.the_class,"/",this.section,"/");r.a.get(e).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.s_no=s+1,a.name=e.data[s].fist_name+" "+e.data[s].last_name,t.student_list.push(a)}console.log(t.student_list)}).catch(function(t){console.log(t)})}},student_selected:function(){this.showDismissibleAlert=!1},select_all_students:function(){this.whole_class?this.recepients=this.student_list:this.recepients=[],console.log("selected_classes",this.recepients)},onFileChanged:function(t){this.image_included=!0},validate:function(){this.good_to_send=!0,""==this.message&&(this.showDismissibleAlert=!0,this.alert_message="Message is empty!",this.alert_color="red",this.good_to_send=!1),this.message.length>400&&(this.showDismissibleAlert=!0,this.alert_message="Message is too long. Please restrict to 400 characters max",this.alert_color="red",this.good_to_send=!1),0==this.recepients.length&&(this.showDismissibleAlert=!0,this.alert_message="No recepient selected",this.good_to_send=!1),this.good_to_send&&(this.caption="Please Confirm sending Messages",this.alert_message="Are you sure you want to send this message to selected Recepients? ",this.confirm=!0)},send_message:function(){var t=this;return J()(H.a.mark(function e(){var s,a,i,o,n,l,c,d,_;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for((s=t).waiting=!0,t.confirm=!1,a=t.$store.getters.get_server_ip,i=t.$store.getters.get_school_id,o=t.$store.getters.get_logged_user,n=a.concat("/operations/send_message/",i,"/"),(l=new FormData).set("coming_from","TeacherCommunication"),l.set("teacher",o),l.set("message",t.message),l.set("whole_class",t.whole_class),l.set("class",t.the_class),l.set("section",t.section),l.set("image_included",t.image_included),c=[],d=0;d<s.recepients.length;d++)c.push(s.recepients[d].id);console.log("recepient_list = ",c),l.set("recepients",c),1==t.image_included&&(l.append("file",t.selectedFile),l.set("image_name",t.selectedFile.name)),confirm("Messages Sent. \nWill be delivered in about an hour's time.\n"),s.waiting=!1,s.message="",s.the_class="",s.section="",s.student_list=[],s.recepients=[],s.$refs.file_input.value=null;try{_=r.a.post(n,l),console.log(_)}catch(t){console.error(t)}case 29:case"end":return e.stop()}},e,t)}))()},dismiss:function(){this.showDismissibleAlert=!1}}},yt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[s("v-form",{staticClass:"mt-0"},[s("v-container",{staticClass:"pa-md-4 mt-0 mx-lg-auto",attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",dark:"",loading:"","loading-text":""==t.the_class||""==t.section?t.class_not_selected:t.loading_text,headers:t.headers,items:t.student_list,"item-key":"id","show-select":""},on:{"item-selected":t.student_selected},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"#FF8A65"}},[s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-select",{staticClass:"mt-7",attrs:{items:t.class_list,label:"Class"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{staticClass:"mt-7",attrs:{items:t.section_list,label:"Sec"},on:{focus:function(e){return t.dismiss()},change:function(e){return t.get_student_list()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-checkbox",{staticClass:"mt-7",attrs:{value:t.whole_class,label:"Whole Class",disabled:!(""!=t.the_class&&""!=t.section)},on:{change:t.select_all_students},model:{value:t.whole_class,callback:function(e){t.whole_class=e},expression:"whole_class"}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",{attrs:{color:"primary",dark:""},on:{click:t.validate,"v-on":a}},[t._v("Send")])]}}])})],1)]},proxy:!0}]),model:{value:t.recepients,callback:function(e){t.recepients=e},expression:"recepients"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-textarea",{attrs:{label:"Message",filled:"",rules:t.rules,"auto-grow":!0,"no-resize":!1,solo:!0,counter:"400"},on:{focus:function(e){return t.dismiss()}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-file-input",{ref:"file_input",attrs:{"show-size":"",label:"Optional - Attach file (Image jpeg or png, PDF)",outlined:"",color:"deep-purple accent-4",name:t.uploadFieldName,accept:"image/*, .pdf"},on:{change:t.onFileChanged},model:{value:t.selectedFile,callback:function(e){t.selectedFile=e},expression:"selectedFile"}})],1),t._v(" "),t.recepients.length>0?s("v-layout",{attrs:{row:"",wrap:"",r:""}},[s("v-card",{staticClass:"mx-auto"},[s("v-card-text",[s("div",{staticClass:"font-weight-black"},[t._v("Selected Students ("+t._s(t.recepients.length)+")")]),t._v(" "),s("v-chip-group",{attrs:{multiple:"",column:"","active-class":"primary--text;"}},t._l(t.recepients,function(e){return s("v-chip",{key:e.name,attrs:{color:t.colors[Math.floor(37*Math.random())]}},[t._v(t._s(e.name))])}),1)],1)],1)],1):t._e()],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"430"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.send_message()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")])],1)],1)],1),t._v(" "),[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}})],t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)]],2)],1)},staticRenderFns:[]};var Ct=s("VU/8")(kt,yt,!1,function(t){s("IJxu")},null,null).exports,At={data:function(){return{ip:"",school_id:"",coming_from:"",teacher:"",loader:null,loading:!1,message_list:[],recepient_list:[],dialog:"false",delivery_status:"",snackbar:!1,colors:[],alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",waiting:!1}},mounted:function(){var t=this;t.colors=this.$store.getters.get_colors,t.dialog=!1,this.ip=this.$store.getters.get_server_ip,this.coming_from=this.$store.getters.get_coming_from,this.school_id=this.$store.getters.get_school_id,this.teacher=this.$store.getters.get_logged_user;var e=t.ip.concat("/teachers/message_list/",this.teacher,"/");r.a.get(e).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id;var i=e.data[s].date.slice(0,10);a.date=i,a.message=e.data[s].message,a.sent_to=e.data[s].sent_to,a.the_class=e.data[s].the_class,a.the_class,a.section=e.data[s].section,a.activity_group=e.data[s].activity_group,a.teacher=e.data[s].teacher,t.message_list.push(a)}console.log(t.message_list)}).catch(function(t){console.log(t)})},methods:{show_delivery_status:function(t){this.delivery_status=t.student+"    "+t.outcome,this.snackbar=!0},show_recepients:function(t){this.waiting=!0;var e=this,s=e.ip.concat("/teachers/receivers_list/",t,"/");r.a.get(s).then(function(t){e.recepient_list=[];for(var s=0;s<t.data.length;s++){var a={};a.student=t.data[s].student,a.outcome=t.data[s].outcome,e.recepient_list.push(a),e.dialog=!0}console.log(e.recepient_list)}).catch(function(t){console.log(t)})},dismiss:function(){this.showDismissibleAlert=!1}}},Dt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}}),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},t._l(t.message_list,function(e){return s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-card",{staticClass:"mx-auto"},[s("v-card-title",[t._v(t._s(e.date))]),t._v(" "),s("v-card-text",[s("v-list-item-content",[s("div",{staticClass:"overline mb-4"},[t._v(t._s(e.the_class)+" - "+t._s(e.section)+" "+t._s(e.sent_to))])]),t._v("\n            "+t._s(e.message)+"\n          ")],1),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{text:"",color:"deep-purple accent-4"},on:{click:function(s){return t.show_recepients(e.id)}}},[t._v("Recepients")])],1)],1)],1)}),1),t._v(" "),s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Recepients List")]),t._v(" "),s("v-card-text",[s("v-chip-group",{attrs:{multiple:"",column:"","active-class":"primary--text"}},t._l(t.recepient_list,function(e){return s("v-chip",{key:e.student,attrs:{color:t.colors[Math.floor(55*Math.random())]},on:{click:function(s){return t.show_delivery_status(e)}}},[t._v(t._s(e.student))])}),1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-actions",[s("v-snackbar",{attrs:{absolute:"",top:"","multi-line":""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n              "+t._s(t.delivery_status)+"\n              "),s("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)]],2)],1)},staticRenderFns:[]};var St=s("VU/8")(At,Dt,!1,function(t){s("mBBz")},null,null).exports,$t={data:function(){return{ip:"",school_id:"",coming_from:"",heading:"Download Monthly Communication Report",show_search_criteria:!0,loader:null,loading:!1,date:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",waiting:!1}},mounted:function(){this.coming_from=this.$store.getters.get_coming_from,this.school_id=this.$store.getters.get_school_id,this.ip=this.$store.getters.get_server_ip},methods:{download:function(){var t=this,e=!0;if(""==this.date&&(this.alert_message="Please specify Month",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),e){console.log("selected month = "+this.month),this.waiting=!0,this.loading=!0;this.$store.getters.get_server_ip,this.$store.getters.get_school_id;var s=t.ip.concat("/operations/monthly_sms_report/");console.log("url=",s);r.a.post(s,{school_id:t.school_id,date:t.date},{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="Monthly_Communication_Report_"+t.date+".xlsx";a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Attendance Sheet Downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},Tt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Month & Year")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-date-picker",{attrs:{type:"month",color:"green lighten-1","header-color":"primary","show-current":!1,"no-title":"",scrollable:"",actions:""},on:{change:function(e){return t.dismiss()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-snackbar",{attrs:{color:t.alert_color,left:"left"===t.x,"multi-line":"",right:"right"===t.x,bottom:"",vertical:"vertical"===t.mode},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v("\n              "+t._s(t.alert_message)+"\n              "),s("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],2)],1)},staticRenderFns:[]};var Et=s("VU/8")($t,Tt,!1,function(t){s("PRSx")},null,null).exports,jt={data:function(){return{ip:"",school_id:"",coming_from:"",heading:"Download Monthly Parent Communication Report",show_search_criteria:!0,loader:null,loading:!1,date:"",alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",waiting:!1}},mounted:function(){this.coming_from=this.$store.getters.get_coming_from,this.school_id=this.$store.getters.get_school_id,this.ip=this.$store.getters.get_server_ip},methods:{download:function(){var t=this,e=!0;if(""==this.date&&(this.alert_message="Please specify Month",this.showDismissibleAlert=!0,this.alert_color="red",e=!1),e){console.log("selected month = "+this.month),this.waiting=!0,this.loading=!0;this.$store.getters.get_server_ip,this.$store.getters.get_school_id;var s=t.ip.concat("/operations/parents_communication_report/");console.log("url=",s);r.a.post(s,{school_id:t.school_id,date:t.date},{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="Parent_Communication_Report_"+t.date+".xlsx";a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Attendance Sheet Downloaded")}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},Pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v(t._s(t.heading))]),t._v(" "),s("h3",[t._v("Select Month & Year")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-date-picker",{attrs:{type:"month",color:"green lighten-1","header-color":"primary","show-current":!1,"no-title":"",scrollable:"",actions:""},on:{change:function(e){return t.dismiss()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.download()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-snackbar",{attrs:{color:t.alert_color,left:"left"===t.x,"multi-line":"",right:"right"===t.x,timeout:"5000",bottom:"",vertical:"vertical"===t.mode},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v("\n              "+t._s(t.alert_message)+"\n              "),s("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)],1),t._v(" "),[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)]],2)],1)},staticRenderFns:[]};var Ft,Mt=s("VU/8")(jt,Pt,!1,function(t){s("6RBv")},null,null).exports,Nt={name:"AddTeacher",data:function(){return{first_name:"",last_name:"",mobile:"",login_id:"",loading:!1,showDismissibleAlert:!1,alert_type:"error",alert_color:"",alert_message:"",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},overlay:!1}},computed:{},mounted:function(){},methods:{validate_entries:function(){return""==this.first_name?(this.alert_message="Please enter First Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.last_name?(this.alert_message="Please enter Last Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.mobile?(this.alert_message="Please enter a valid 10 digit Mobile Number",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.login_id?(this.alert_message="Please enter login id",this.showDismissibleAlert=!0,void(this.alert_color="red")):(this.caption="Confirm Teacher Addition",this.alert_message="Are you sure you want to Add this Teacher? ",this.confirm=!0,void(this.overlay=!0))},close:function(){console.log("Dialog closed")},add_teacher:function(){var t=this;console.log("inside add teacher"),this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,i=s.concat("/teachers/add_teacher/");r.a.post(i,{school_id:e,user:a,full_name:t.first_name+" "+t.last_name,mobile:t.mobile,email:t.login_id}).then(function(e){return console.log(e),t.overlay=!1,"success"==e.data.status?(t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.alert_color="green",confirm("Teacher successfully added"),t.teacher_name="",t.mobile="",void(t.login_id="")):(t.alert_color="red",t.alert_message=e.data.message,t.showDismissibleAlert=!0,void confirm(e.data.message))}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}},Rt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Add Teacher")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mobile"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Login Id"},on:{focus:function(e){return t.dismiss()}},model:{value:t.login_id,callback:function(e){t.login_id=e},expression:"login_id"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n            Add Teacher\n            "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.add_teacher()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1,t.overlay=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},Ut=s("VU/8")(Nt,Rt,!1,null,null,null).exports,Bt={name:"UpdateTeacher",data:function(){return{teacher_id:"",first_name:"",last_name:"",mobile:"",login_id:"",teacher_list:[],changed_index:"",selected:!1,loading:!1,showDismissibleAlert:!1,alert_type:"error",alert_color:"",alert_message:"",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},overlay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id;t.colors=this.$store.getters.get_colors;var s=this.$store.getters.get_server_ip.concat("/teachers/teacher_list/",e,"/");r.a.get(s).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.first_name=e.data[s].first_name,a.last_name=e.data[s].last_name,a.mobile=e.data[s].mobile,a.login_id=e.data[s].email,t.teacher_list.push(a)}console.log("teacher list = ",t.teacher_list)}).catch(function(t){console.log(t)})},methods:{show_details:function(t){console.log("inside show_detasils",t);for(var e=0;e<this.teacher_list.length;e++)if(this.teacher_list[e].id==t){this.changed_index=e,this.selected=!0,this.id=t,this.first_name=this.teacher_list[e].first_name,this.last_name=this.teacher_list[e].last_name,this.mobile=this.teacher_list[e].mobile,this.login_id=this.teacher_list[e].login_id;break}},validate_entries:function(){return""==this.first_name?(this.alert_message="Please enter First Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.last_name?(this.alert_message="Please enter Last Name",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.mobile?(this.alert_message="Please enter a valid 10 digit Mobile Number",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.login_id?(this.alert_message="Please enter login id",this.showDismissibleAlert=!0,void(this.alert_color="red")):(this.caption="Confirm Teacher Update",this.alert_message="Are you sure you want to Update this Teacher? ",this.confirm=!0,void(this.overlay=!0))},close:function(){console.log("Dialog closed")},update_teacher:function(){var t=this;console.log("inside add teacher"),this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,i=s.concat("/teachers/update_teacher/");r.a.post(i,{school_id:e,user:a,teacher_id:t.id,teacher_name:t.first_name+" "+t.last_name,teacher_mobile:t.mobile,teacher_login:t.login_id,is_class_teacher:"false"}).then(function(e){return console.log(e),t.overlay=!1,"success"==e.data.status?(t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.alert_color="green",confirm("Teacher successfully updated"),t.teacher_list[t.changed_index].first_name=t.first_name,t.teacher_list[t.changed_index].last_name=t.last_name,t.teacher_list[t.changed_index].mobile=t.mobile,t.first_name="",t.last_name="",t.mobile="",void(t.login_id="")):(t.alert_color="red",t.alert_message=e.data.message,t.showDismissibleAlert=!0,void confirm(e.data.message))}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}},Ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Update Teacher")]),t._v(" "),t.selected?s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"First Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Last Name"},on:{focus:function(e){return t.dismiss()}},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Mobile"},on:{focus:function(e){return t.dismiss()}},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Login Id",disabled:""},on:{focus:function(e){return t.dismiss()}},model:{value:t.login_id,callback:function(e){t.login_id=e},expression:"login_id"}})],1)],1):t._e(),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-card",{attrs:{"max-width":"900"}},[s("v-card-title",[t._v("Select Teacher")]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticStyle:{height:"100px"}},[s("v-chip-group",{attrs:{multiple:"","center-active":!0,"active-class":"primary--text;"}},t._l(t.teacher_list,function(e){return s("v-chip",{key:e.id,attrs:{color:t.colors[Math.floor(37*Math.random())]},on:{click:function(s){return t.show_details(e.id)}}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])}),1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{loading:t.loading,disabled:!t.selected,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n                Update Teacher\n                "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"})]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.update_teacher()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1,t.overlay=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},Lt=s("VU/8")(Bt,Ot,!1,null,null,null).exports,It={name:"SetClassTeacher",data:function(){return{teacher_id:"",first_name:"",last_name:"",mobile:"",login_id:"",teacher_list:[],the_class:"",class_list:[],section:"",section_list:[],changed_index:"",selected:!1,selected_teacher:"",waiting:!1,loading:!1,showDismissibleAlert:!1,alert_type:"error",alert_color:"",alert_message:"",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},overlay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id;t.colors=this.$store.getters.get_colors;var s=this.$store.getters.get_server_ip,a=s.concat("/teachers/teacher_list/",e,"/");r.a.get(a).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.first_name=e.data[s].first_name,a.last_name=e.data[s].last_name,a.mobile=e.data[s].mobile,a.login_id=e.data[s].email,t.teacher_list.push(a)}console.log("teacher list = ",t.teacher_list)}).catch(function(t){console.log(t)});var i=s.concat("/academics/class_list/",e,"/");r.a.get(i).then(function(e){t.class_list=e.data;for(var s=0;s<e.data.length;s++)t.class_list[s]=e.data[s].standard;console.log(t.class_list)}).catch(function(t){console.log(t)});var o=s.concat("/academics/section_list/",e,"/");r.a.get(o).then(function(e){t.section_list=e.data;for(var s=0;s<e.data.length;s++)t.section_list[s]=e.data[s].section;console.log(t.class_list)}).catch(function(t){console.log(t)})},methods:{show_details:function(t){console.log("inside show_detasils",t);for(var e=0;e<this.teacher_list.length;e++)if(this.teacher_list[e].id==t){this.changed_index=e,this.selected=!0,this.id=t,this.selected_teacher=this.teacher_list[e].first_name+" "+this.teacher_list[e].last_name,this.last_name=this.teacher_list[e].last_name,this.mobile=this.teacher_list[e].mobile,this.login_id=this.teacher_list[e].login_id;break}},validate_entries:function(){return""==this.the_class?(this.alert_message="Please elect a Class",this.showDismissibleAlert=!0,void(this.alert_color="red")):""==this.section?(this.alert_message="Please select a Section",this.showDismissibleAlert=!0,void(this.alert_color="red")):(this.caption="Confirm Class Teacher Selection",this.alert_message="Are you sure you want to set "+this.selected_teacher+" as the class Teacher for "+this.the_class+"-"+this.section+"?",this.confirm=!0,void(this.overlay=!0))},close:function(){console.log("Dialog closed")},download_class_teacher_list:function(){var t=this;this.waiting=!0,this.loading=!0;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=e.concat("/teachers/download_class_teacher_list/");r.a.post(a,{school_id:s},{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;a.setAttribute("download","class_teacher_list.xlsx"),document.body.appendChild(a),a.click(),confirm("Class Teacher list Downloaded")}).catch(function(t){console.log(t)}).then(function(){})},set_class_teacher:function(){var t=this;this.waiting=!0,this.loading=!0,this.confirm=!1;var e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,i=s.concat("/teachers/set_class_teacher/");r.a.post(i,{school_id:e,user:a,teacher_id:t.id,teacher_login:t.login_id,the_class:t.the_class,section:t.section,is_class_teacher:"false"}).then(function(e){return console.log(e),t.overlay=!1,t.waiting=!1,t.loading=!1,"success"==e.data.status?(t.showDismissibleAlert=!0,t.alert_message=e.data.message,t.alert_color="green",confirm("Teacher successfully updated"),t.teacher_list[t.changed_index].first_name=t.first_name,t.teacher_list[t.changed_index].last_name=t.last_name,t.teacher_list[t.changed_index].mobile=t.mobile,t.first_name="",t.last_name="",t.mobile="",void(t.login_id="")):(t.alert_color="red",t.alert_message=e.data.message,t.showDismissibleAlert=!0,void confirm(e.data.message))}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}},Vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Set Class Teacher")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-card",{attrs:{"max-width":"900"}},[s("v-card-title",[t._v("Select Class & Section")]),t._v(" "),s("v-divider"),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class/Standard"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.section_list,label:"Section"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"3"}},[s("v-text-field",{attrs:{disabled:"",label:"Selected Teacher"},on:{focus:function(e){return t.dismiss()}},model:{value:t.selected_teacher,callback:function(e){t.selected_teacher=e},expression:"selected_teacher"}})],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-title",[t._v("Select Teacher")]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticStyle:{height:"100px"}},[s("v-chip-group",{attrs:{multiple:"","center-active":!0,"active-class":"primary--text;"}},t._l(t.teacher_list,function(e){return s("v-chip",{key:e.id,attrs:{color:t.colors[Math.floor(37*Math.random())]},on:{click:function(s){return t.show_details(e.id)}}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])}),1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{loading:t.loading,disabled:!t.selected,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n                Set Class Teacher\n                "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)]),t._v(" "),s("v-btn",{attrs:{loading:t.loading,color:"orange"},on:{click:[function(e){t.loader="loading"},function(e){return t.download_class_teacher_list()}]}},[t._v("\n                Download Class Teacher List\n                "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"})]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.set_class_teacher()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1,t.overlay=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},zt=s("VU/8")(It,Vt,!1,null,null,null).exports,Wt={name:"UpdateTeacher",data:function(){return{teacher_id:"",first_name:"",last_name:"",mobile:"",login_id:"",teacher_list:[],changed_index:"",selected:!1,loading:!1,showDismissibleAlert:!1,alert_type:"error",alert_color:"",alert_message:"",confirm:!1,caption:"",allow_edit:!1,max25chars:function(t){return t.length<=30||"Input too long!"},overlay:!1}},computed:{},mounted:function(){var t=this,e=this.$store.getters.get_school_id;t.colors=this.$store.getters.get_colors;var s=this.$store.getters.get_server_ip.concat("/teachers/teacher_list/",e,"/");r.a.get(s).then(function(e){for(var s=0;s<e.data.length;s++){var a={};a.id=e.data[s].id,a.first_name=e.data[s].first_name,a.last_name=e.data[s].last_name,a.mobile=e.data[s].mobile,a.login_id=e.data[s].email,t.teacher_list.push(a)}console.log("teacher list = ",t.teacher_list)}).catch(function(t){console.log(t)})},methods:{confirm_deletion:function(t){for(var e=0;e<this.teacher_list.length;e++)if(this.teacher_list[e].id==t){this.changed_index=e,this.selected=!0,this.id=t,this.first_name=this.teacher_list[e].first_name,this.last_name=this.teacher_list[e].last_name,this.mobile=this.teacher_list[e].mobile,this.login_id=this.teacher_list[e].login_id;break}this.caption="Confirm Teacher Delete",this.alert_message="Are you sure you want to Delete Teacher: "+this.first_name+" "+this.last_name+"?",this.confirm=!0,this.overlay=!0},close:function(){console.log("Dialog closed")},delete_teacher:function(){var t=this;this.confirm=!1;var e=this.$store.getters.get_school_id;console.log(e);var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_logged_user,i=s.concat("/teachers/delete_teacher/");r.a.post(i,{school_id:e,user:a,teacher_id:t.id}).then(function(e){return console.log(e),t.overlay=!1,"success"==e.data.status?(confirm("Teacher successfully updated"),t.teacher_list[t.changed_index].first_name="",t.teacher_list[t.changed_index].last_name="",t.teacher_list[t.changed_index].mobile="",t.first_name="",t.last_name="",t.mobile="",void(t.login_id="")):(t.alert_color="red",t.alert_message=e.data.message,t.showDismissibleAlert=!0,void confirm(e.data.message))}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}},Kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-form",[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"text-center"},[s("v-overlay",{attrs:{value:t.overlay}})],1),t._v(" "),s("h2",[t._v("Delete Teacher")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-card",{attrs:{"max-width":"900"}},[s("v-card-title",[t._v("Select Teacher to be Deleted")]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticStyle:{height:"100px"}},[s("v-chip-group",{attrs:{multiple:"","center-active":!0,"active-class":"primary--text;"}},t._l(t.teacher_list,function(e){return s("v-chip",{key:e.id,attrs:{color:t.colors[Math.floor(37*Math.random())]},on:{click:function(s){return t.confirm_deletion(e.id)}}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])}),1)],1),t._v(" "),s("v-divider")],1)],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"})]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:t.alert_color,type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.caption))]),t._v(" "),s("v-card-text",[t._v(t._s(t.alert_message))]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.delete_teacher()}}},[t._v("OK")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.confirm=!1,t.overlay=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},staticRenderFns:[]},qt=s("VU/8")(Wt,Kt,!1,null,null,null).exports,Yt={data:function(){var t;return t={ip:"",school_id:"",heading:"Setup Time Table",show_search_criteria:!0,loader:null,loading:!1,days:["Monday","Tuesday","Wednesdayt","Thursday","Friday","Saturday"],day:"",the_class:"",class_list:[],section:"",section_list:[],subject:"",subject_list:[],period:"",period_list:[]},A()(t,"subject",""),A()(t,"subject_list",[]),A()(t,"teacher_id",""),A()(t,"teacher",""),A()(t,"teacher_list",[]),A()(t,"teacher_id_list",[]),A()(t,"caption",""),A()(t,"snackbar",!1),A()(t,"timeout",2e3),A()(t,"response_message",""),A()(t,"alert_type",""),A()(t,"alert_message",""),A()(t,"showDismissibleAlert",!1),A()(t,"colors",[]),A()(t,"alert_color",""),A()(t,"waiting",!1),A()(t,"confirm",""),A()(t,"headers",[{text:"Student Name",align:"left",sortable:!1,value:"name"},{text:"Reg/Adm/Sch Number",value:"reg_no"},{text:"Class",value:"the_class"},{text:"Parent",value:"parent"}]),t},mounted:function(){var t=this;t.coming_from=this.$store.getters.get_coming_from,t.school_id=this.$store.getters.get_school_id,t.ip=this.$store.getters.get_server_ip,t.colors=this.$store.getters.get_colors,r.a.all([r.a.get(t.ip.concat("/academics/class_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/section_list/",t.school_id,"/")),r.a.get(t.ip.concat("/academics/subject_list/",t.school_id,"/")),r.a.get(t.ip.concat("/time_table/get_periods/",t.school_id,"/")),r.a.get(t.ip.concat("/teachers/teacher_list/",t.school_id,"/"))]).then(r.a.spread(function(e,s,a,i,o){t.class_list=e.data,t.section_list=s.data,t.subject_list=a.data,t.period_list=i.data;for(var n=0;n<e.data.length;n++)t.class_list[n]=e.data[n].standard;for(n=0;n<s.data.length;n++)t.section_list[n]=s.data[n].section;for(n=0;n<a.data.length;n++)t.subject_list[n]=a.data[n].subject_name;for(n=0;n<i.data.length;n++)t.period_list[n]=i.data[n].symbol;for(n=0;n<o.data.length;n++)t.teacher_id_list[n]=o.data[n].id;o.data.length;t.teacher_list=o.data;for(n=0;n<o.data.length;n++)t.teacher_list[n]=o.data[n].first_name+" "+o.data[n].last_name}))},methods:(Ft={set_subject:function(t){this.subject=t},set_teacher:function(t){this.teacher=t},dismiss:function(){this.showDismissibleAlert=!1},validate_entries:function(){var t=!0;if(""==this.day&&(this.alert_message="Please select a Day",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.the_class&&(this.alert_message="Please select a Class",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.section&&(this.alert_message="Please select a Section",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.period&&(this.alert_message="Please select a Period",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.subject&&(this.alert_message="Please select a Subject",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),""==this.teacher&&(this.alert_message="Please select a Teacher",this.showDismissibleAlert=!0,this.alert_color="red",t=!1),t){for(var e=0;e<this.teacher_list.length;e++)if(this.teacher_list[e]==this.teacher){this.teacher_id=this.teacher_id_list[e],console.log("selected teacher: ",this.teacher),console.log("selected teacher id: ",this.teacher_id);break}var s=this;this.confirm=!1,this.waiting=!0,this.loading=!0;var a=this.$store.getters.get_server_ip,i=this.$store.getters.get_school_id;this.$store.getters.get_logged_user;s.grade_based&&(s.max_marks=s.passing_marks=0);var o=a.concat("/time_table/set_period/");console.log("url=",o),r.a.post(o,{school_id:i,day:s.day,the_class:s.the_class,section:s.section,period:s.period,subject:s.subject,teacher_id:s.teacher_id}).then(function(t){s.waiting=!1,s.loading=!1,console.log(t),s.response_message=t.data.message,console.log(s.response_message),s.snackbar=!0}).catch(function(t){console.log(t)}).then(function(){})}}},A()(Ft,"dismiss",function(){this.showDismissibleAlert=!1}),A()(Ft,"showAlert",function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}),Ft)},Gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[s("v-form",{staticClass:"mt-0 ma-0 pa-0"},[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",{staticClass:"mt-n50 mx-auto"},[t._v(t._s(t.heading))]),t._v(" "),s("v-row",{attrs:{align:"center"}},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"900"}},[s("v-card-title",[t._v("Please make selections")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.days,label:"Day"},on:{focus:function(e){return t.dismiss()}},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.class_list,label:"Class"},on:{focus:function(e){return t.dismiss()}},model:{value:t.the_class,callback:function(e){t.the_class=e},expression:"the_class"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"1"}},[s("v-select",{attrs:{items:t.section_list,label:"Sec"},on:{focus:function(e){return t.dismiss()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.period_list,label:"Period"},on:{focus:function(e){return t.dismiss()}},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Subject",disabled:""},on:{focus:function(e){return t.dismiss()}},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"Teacher",disabled:""},on:{focus:function(e){return t.dismiss()}},model:{value:t.teacher,callback:function(e){t.teacher=e},expression:"teacher"}})],1)],1),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{loading:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.validate_entries()}]}},[t._v("\n                  Set\n                  "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-title",[t._v("Select Subject")]),t._v(" "),s("v-card-text",[s("v-chip-group",{attrs:{multiple:"","center-active":!0,"active-class":"primary--text;"}},t._l(t.subject_list,function(e){return s("v-chip",{key:e.id,attrs:{color:t.colors[Math.floor(37*Math.random())]},on:{click:function(s){t.dismiss(),t.set_subject(e)}}},[t._v(t._s(e))])}),1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-title",[t._v("Select Teacher")]),t._v(" "),s("v-card-text",[s("v-chip-group",{attrs:{multiple:"","center-active":!0,"active-class":"primary--text;"}},t._l(t.teacher_list,function(e){return s("v-chip",{key:e.id,attrs:{color:t.colors[Math.floor(37*Math.random())]},on:{click:function(s){t.dismiss(),t.set_teacher(e)}}},[t._v(t._s(e))])}),1)],1),t._v(" "),s("v-divider")],1)],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1),t._v(" "),s("v-layout",{staticClass:"mx-auto",attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-snackbar",{attrs:{timeout:t.timeout,top:"",color:"#880E4F"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n          "+t._s(t.response_message)+"\n          "),s("v-btn",{attrs:{color:"blue",text:t.response_message},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}})],1)],1)},staticRenderFns:[]};var Ht=s("VU/8")(Yt,Gt,!1,function(t){s("cPsa")},null,null).exports,Xt={name:"TeacherAttendance",data:function(){return{date_changed:function(){var t=this,e=this.date.split("-"),s=e[0];t.yyyy=s;var a=e[1];t.mm=a;var i=e[2];t.dd=i,t.ddmmyyyy=i+"-"+a+"-"+s;var o=this.$store.getters.get_server_ip,n=this.$store.getters.get_school_id,l=o.concat("/teachers/retrieve_attendance/",n,"/",i,"/",a,"/",s,"/");r.a.get(l).then(function(e){t.absent=e.data.length,t.absentee_list=[];for(var s=0;s<e.data.length;s++)t.absentee_list.push(e.data[s].teacher);console.log("absentee_list = ",t.absentee_list),t.total=t.teacher_list.length,t.present=t.total-t.absent;for(var a=0;a<t.teacher_list.length;a++){t.teacher_list[a].presence="present",t.teacher_list[a].toggle="toggle_on",t.teacher_list[a].presence_color="green darken-2";for(s=0;s<t.absentee_list.length;s++)t.teacher_list[a].id==t.absentee_list[s]&&(t.teacher_list[a].presence="absent",t.teacher_list[a].toggle="toggle_off",t.teacher_list[a].presence_color="#EF5350")}t.waiting=!1}).catch(function(t){console.log(t)})},loader:null,loading:!1,loading_text:"Fetching Teacher list... Please wait",teacher_id:"",teacher_list:[],date:(new Date).toISOString().substr(0,10),dd:"",mm:"",yyyy:"",ddmmyyyy:"",menu:"",absentee_list:[],correction_list:[],total:"",present:"",absent:"",dialog:"",waiting:!1,alert_type:"",alert_message:"",showDismissibleAlert:!1,alert_color:"",headers:[{text:"S No",value:"s_no"},{text:"Teacher Name",align:"left",sortable:!1,value:"name"},{text:"Present/Absent",value:"presence"}]}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip,a=s.concat("/teachers/teacher_list/",e,"/");r.a.all([r.a.get(a),function(){var a=t.date.split("-"),i=a[0];t.yyyy=i;var o=a[1];t.mm=o;var n=a[2];return t.dd=n,t.ddmmyyyy=n+"-"+o+"-"+i,r.a.get(s.concat("/teachers/retrieve_attendance/",e,"/",n,"/",o,"/",i,"/"))}()]).then(r.a.spread(function(e,s){t.absent=s.data.length;for(var a=0;a<s.data.length;a++)t.absentee_list.push(s.data[a].teacher);t.total=e.data.length,t.present=t.total-t.absent;for(a=0;a<e.data.length;a++){var i={};i.s_no=a+1,i.id=e.data[a].id,t.absentee_list.indexOf(i.id)>-1?(i.presence="absent",i.toggle="toggle_off",i.presence_color="#EF5350"):(i.presence="present",i.toggle="toggle_on",i.presence_color="green darken-2"),i.name=e.data[a].first_name+" "+e.data[a].last_name,t.teacher_list.push(i)}t.waiting=!1}))},methods:{status_color:function(t){return"absent"==t?"#EF5350":"present"==t?"#4CAF50":void 0},mark_absence:function(t){var e=this.absentee_list.indexOf(t.id);if(e>-1)this.absentee_list.splice(e,1),this.correction_list.push(t.id),t.presence="present",this.present+=1,this.absent-=1,t.toggle="toggle_on",t.presence_color="green darken-2";else{this.absentee_list.push(t.id);var s=this.correction_list.indexOf(t.id);s>-1&&this.correction_list.splice(s,1),t.presence="absent",this.present-=1,this.absent+=1,t.toggle="toggle_off",t.presence_color="orange darken-2",console.log("absentees_list = ",this.absentee_list),console.log("correction_list = ",this.correction_list)}},dismiss:function(){this.showDismissibleAlert=!1},process_attendance:function(){var t=this;if(confirm("Are you sure you want to Submit this Attendance?")){this.waiting=!0;var e=t.$store.getters.get_school_id,s=t.$store.getters.get_server_ip,a=this.date.split("-"),i=a[0],o=a[1],n=a[2],l=s.concat("/teachers/process_attendance/",e,"/",n,"/",o,"/",i,"/");console.log("url=",l);var c={};for(var d in t.correction_list){var _=t.correction_list[d];c[_]=_}var u={};for(var d in t.absentee_list){var h=t.absentee_list[d];u[h]=h}r.a.post(l,{corrections:c,absentees:u}).then(function(e){t.waiting=!1,t.loading=!1,console.log(e),confirm(e.data.outcome)}).catch(function(t){console.log(t)}).then(function(){})}}}},Jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",{staticClass:"ma-0"},[[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-col",{staticClass:"mx-auto",attrs:{cols:"10",md:"10"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dark:"",loading:"",headers:t.headers,items:t.teacher_list},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"#651FFF"}},[s("v-chip",{staticClass:"mt-0",attrs:{color:"#8D6E63",label:""}},[s("div",{staticClass:"text-uppercase"},[t._v("Teacher Attendance")])]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-text-field",t._g({staticClass:"mt-7",attrs:{label:"Date","prepend-icon":"event",readonly:""},on:{click:function(e){return t.dismiss()},change:function(e){return t.date_changed()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",color:"green lighten-1",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[s("v-spacer"),t._v(" "),s("v-btn",{staticClass:"mt-auto",attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.date_changed(),t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)],1)],1)]},proxy:!0},{key:"item.presence",fn:function(e){var a=e.item;return[s("v-chip",{attrs:{color:t.status_color(a.presence)},on:{click:function(e){return t.mark_absence(a)}}},[t._v(t._s(a.presence))])]}},{key:"footer",fn:function(){return[s("div",[s("v-toolbar",{attrs:{dense:"",flat:"",color:"#FBC02D"}},[s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Total: "+t._s(t.total))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{color:"#BDBDBD",inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Present: "+t._s(t.present))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{color:"#BDBDBD",inset:"",vertical:""}}),t._v(" "),s("v-toolbar-title",[t._v("Absent: "+t._s(t.absent))]),t._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{color:"#BDBDBD",inset:"",vertical:""}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"mb-0",attrs:{color:"#1A237E",dark:""},on:{click:t.process_attendance}},a),[t._v("Submit")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)],1)]},proxy:!0}])})],1)],1)],2)],1)},staticRenderFns:[]};var Zt=s("VU/8")(Xt,Jt,!1,function(t){s("wWgE")},null,null).exports,Qt={data:function(){return{loader:null,loading:!1,waitng:!1,exam:"",exam_list:[],alert_type:"",alert_message:"",showDismissibleAlert:!1}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_server_ip.concat("/academics/get_exam_list_school/",e,"/");r.a.get(s).then(function(e){t.exam_list=e.data;for(var s=0;s<e.data.length;s++)t.exam_list[s]=e.data[s].title;console.log(t.exam_list)}).catch(function(t){console.log(t)})},methods:{search:function(){var t=this,e=!0;if(""==this.exam&&(this.alert_message="Please select an Exam",this.showDismissibleAlert=!0,e=!1),e){t.waitng=!0,t.loading=!0;var s=this.$store.getters.get_server_ip,a=this.$store.getters.get_school_id,i=(this.$store.getters.get_school_name,s.concat("/exam/unscheuled_test_list/"));r.a.get(i,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer",params:{school_id:a,exam_title:this.exam}}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i="Unscheduled_test_"+t.exam+".xlsx";a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Result sheet downloaded"),t.waitng=!1,t.loading=!1}).catch(function(t){console.log(t)}).then(function(){})}},dismiss:function(){this.showDismissibleAlert=!1},showAlert:function(t){if(!event.target.classList.contains("btn__content")){var e=this.$store.getters.get_coming_from;console.log(e)}}}},te={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"mt-n12 pt-n12"},[s("v-content",[[s("div",{staticClass:"text-xs-center"},[t.waiting?s("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}}):t._e()],1)],t._v(" "),s("v-form",[s("v-container",{staticClass:"pa-md-4 mx-lg-auto",attrs:{fluid:""}},[s("h1",[t._v("Download Unscheduled Test Report")]),t._v(" "),s("h3",[t._v("Select an Exam")]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-center":""}},[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:t.exam_list,label:"Exam"},on:{focus:function(e){return t.dismiss()}},model:{value:t.exam,callback:function(e){t.exam=e},expression:"exam"}})],1)],1),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"green"},on:{click:[function(e){t.loader="loading"},function(e){return t.search()}]}},[t._v("\n              Download Sheet\n              "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)]),t._v(" "),s("v-layout",{attrs:{xs4:"",row:"",wrap:"","justify-space-around":""}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{value:t.showDismissibleAlert,color:"red",type:t.alert_type}},[t._v(t._s(t.alert_message))])],1)],1)],1)],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs8:"","order-xs5":"","offset-sm2":""}},[t.show_student_list?s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.students},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){return t.showAlert(e.item)}}},[s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.reg_no))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.the_class))]),t._v(" "),s("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.parent))])])]}}],null,!1,3051637608)}):t._e()],1)],2)],1)},staticRenderFns:[]};var ee=s("VU/8")(Qt,te,!1,function(t){s("bV6H")},null,null).exports;a.default.use(m.a);var se=new m.a({routes:[{path:"/dashboard",name:"Dashboard",component:f},{path:"/unscheduled_test_report",name:"UnscheduledTestReport",component:ee},{path:"/teacher_attendance",name:"TeacherAttendance",component:Zt},{path:"/setup_time_table",name:"SetupTimetable",component:Ht},{path:"/delete_teacher",name:"DeleteTeacher",component:qt},{path:"/update_teacher",name:"UpdateTeacher",component:Lt},{path:"/set_class_teacher",name:"SetClassTeacher",component:zt},{path:"/add_teacher",name:"AddTeacher",component:Ut},{path:"/student_search",name:"StudentSearch",component:y},{path:"/fee_payment",name:"FeePayment",component:b},{path:"/correction",name:"Coprrection",component:$},{path:"/add_student",name:"add_student",component:j},{path:"/update_student",name:"update_student",component:M},{path:"/delete_student",name:"delete_student",component:N},{path:"/download_student_list",name:"download_student_list",component:B},{path:"/class_search",name:"class_search",component:I},{path:"/performance_analysis",name:"performance_analysis",component:W},{path:"/mark_sheet",name:"mark_sheet",component:Y},{path:"/exam_results",name:"exam_results",component:gt},{path:"/bulk_sms",name:"bulk_sms",component:tt},{path:"/class_monthly_attendance",name:"class_monthly_attendance",component:at},{path:"/schedule_test",name:"schedule_test",component:rt},{path:"/show_test_list",name:"show_test_list",component:ut},{path:"/marks_entry",name:"marks_entry",component:vt},{path:"/student_attendance",name:"student_attendance",component:wt},{path:"/send_message_to_parents",name:"send_message_to_parents",component:Ct},{path:"/teacher_message_history",name:"teacher_message_history",component:St},{path:"/monthly_communication",name:"monthly_communication",component:Et},{path:"/parent_communication",name:"parent_communication",component:Mt}]}),ae=s("uUlv");a.default.use(ae.a);var ie=new ae.a.Store({mutations:{SET_LOGGED_STATUS:function(t,e){t.logged_status=e},SET_USER:function(t,e){t.logged_user=e},SET_USER_NAME:function(t,e){t.user_name=e},SET_USER_TYPE:function(t,e){t.user_type=e},SET_ID:function(t,e){t.school_id=e},SET_SCHOOL_NAME:function(t,e){t.school_name=e},SET_STUDENT_ID:function(t,e){t.student_id=e},SET_STUDENT_NAME:function(t,e){t.student_name=e},SET_STUDENT_CLASS:function(t,e){t.student_class=e},SET_PARENT:function(t,e){t.parent=e},SET_ADM_FEE:function(t,e){t.adm_fee=e},SET_COMING_STATUS:function(t,e){t.coming_from=e},SET_CLASS:function(t,e){t.the_class=e},SET_SECTION:function(t,e){t.section=e},SET_SUBJECT:function(t,e){t.subject=e},SET_EXAM:function(t,e){t.exam=e},SET_TEST:function(t,e){t.test=e},SET_GRADE_BASED:function(t,e){t.grade_based=e},SET_TEST_TYPE:function(t,e){t.test_type=e},SET_MAX_MARKS:function(t,e){t.max_marks=e}},actions:{set_logged_status:function(t,e){t.commit("SET_LOGGED_STATUS",e)},set_user:function(t,e){t.commit("SET_USER",e)},set_user_name:function(t,e){t.commit("SET_USER_NAME",e)},set_user_type:function(t,e){t.commit("SET_USER_TYPE",e)},set_id:function(t,e){t.commit("SET_ID",e)},set_school_name:function(t,e){t.commit("SET_SCHOOL_NAME",e)},set_student_id:function(t,e){t.commit("SET_STUDENT_ID",e)},set_student_name:function(t,e){t.commit("SET_STUDENT_NAME",e)},set_student_class:function(t,e){t.commit("SET_STUDENT_CLASS",e)},set_parent:function(t,e){t.commit("SET_PARENT",e)},set_adm_fee:function(t,e){t.commit("SET_ADM_FEE",e)},set_coming_status:function(t,e){t.commit("SET_COMING_STATUS",e)},set_class:function(t,e){t.commit("SET_CLASS",e)},set_section:function(t,e){t.commit("SET_SECTION",e)},set_subject:function(t,e){t.commit("SET_SUBJECT",e)},set_exam:function(t,e){t.commit("SET_EXAM",e)},set_test:function(t,e){t.commit("SET_TEST",e)},set_grade_based:function(t,e){t.commit("SET_GRADE_BASED",e)},set_test_type:function(t,e){t.commit("SET_TEST_TYPE",e)},set_max_marks:function(t,e){t.commit("SET_MAX_MARKS",e)}},getters:{get_logged_status:function(t){return t.logged_status},get_logged_user:function(t){return t.logged_user},get_user_name:function(t){return t.user_name},get_user_type:function(t){return t.user_type},get_school_id:function(t){return t.school_id},get_school_name:function(t){return t.school_name},get_server_ip:function(t){return t.server_ip},get_student_id:function(t){return t.student_id},get_student_name:function(t){return t.student_name},get_student_class:function(t){return t.student_class},get_parent:function(t){return t.parent},get_adm_fee:function(t){return t.adm_fee},get_coming_from:function(t){return t.coming_from},get_class:function(t){return t.the_class},get_section:function(t){return t.section},get_subject:function(t){return t.subject},get_exam:function(t){return t.exam},get_test:function(t){return t.test},get_grade_based:function(t){return t.grade_based},get_test_type:function(t){return t.test_type},get_max_marks:function(t){return t.max_marks},get_colors:function(t){return t.colors}},state:{server_ip:"https://www.classupclient.com",logged_status:!1,logged_user:"unknown",user_name:"unknown",user_type:"unknown",school_id:0,student_id:"unknown",student_name:"unknown",student_class:"unknown",parent:"unknown",school_name:"ClassUp",coming_from:"unknown",adm_fee:!1,the_class:"unknown",section:"unknown",subject:"unknown",exam:"unknown",test:"unknown",grade_based:"unknown",test_type:"unknown",max_marks:"unknown",colors:["#F44336","#BBDEFB","#9C27B0","#03A9F4","#00BCD4","#CDDC39","#CDDC39","#BF360C","#81C784","#FFCC80","#FF6D00","#FFECB3","#1B5E20","#827717","#3D5AFE","#9575CD","#880E4F","#EF5350","#F44336","#BBDEFB","#9C27B0","#03A9F4","#00BCD4","#CDDC39","#CDDC39","#BF360C","#81C784","#FFCC80","#FF6D00","#FFECB3","#1B5E20","#827717","#3D5AFE","#9575CD","#880E4F","#EF5350","#F44336","#BBDEFB","#9C27B0","#03A9F4","#00BCD4","#CDDC39","#CDDC39","#BF360C","#81C784","#FFCC80","#FF6D00","#FFECB3","#1B5E20","#827717","#3D5AFE","#9575CD","#880E4F","#EF5350"]}}),oe=s("3EgV"),ne=s.n(oe);s("7zck"),s("csSS");a.default.use(ne.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:se,store:ie,vuetify:new ne.a({theme:{disable:!0},iconfont:"fa4",icons:{iconfont:"mdiSvg"}}),components:{App:h},template:"<App/>"})},NmoU:function(t,e){},OYpr:function(t,e){},PRSx:function(t,e){},T8P2:function(t,e){},ZkYA:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_0_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);__webpack_exports__.a={name:"FeePayment",data:function(){return{school_id:"",student_id:"",student_erp_id:"",the_class:"",student_name:"",parent:"",alert_message:"",heads:[],headers:[{text:"Head",align:"left",sortable:!1,value:"head"},{text:"Amount",value:"amount"},{text:"Discount (%)",value:"discount_perc"},{text:"Dicsount (Amount)",value:"discount_amt"},{text:"Net payable",value:"net_payable"}],due_till_now:0,transport_fee:0,paid_till_date:0,dues:0,delay:"No Delay",late_fee:0,one_time:0,discount_given:0,waiver:0,actual_paid:0,payment_mode:"",cheque_no:"N/A",bank:"N/A",showDismissibleAlert:!1,alert_type:"error",alert_color:"",confirm:!1,caption:"",allow_edit:!1,rules:{max25chars:function(t){return t.length<=30||"Input too long!"},required:function(t){return!!t||"Required."},counter:function(t){return t.length<=20||"Max 20 characters"},number:function(t){return/^\d+$/.test(t)||"Enter only number"}}}},computed:{due_this_term:function due_this_term(){var self=this,amt=0;console.log(self.heads);for(var i=0;i<self.heads.length;i++)console.log("head value = ",self.heads[i].head),"N/A"!=self.heads[i].amount&&(amt+=eval(self.heads[i].net_payable));return console.log("amount as computed = ",amt),amt},net_payable:function net_payable(){var self=this;return this.due_this_term+eval(self.late_fee)+eval(self.one_time)+eval(this.previous_due)-this.waiver},balance:function(){return this.net_payable-this.actual_paid}},mounted:function(){var t=this,e=this.$store.getters.get_school_id,s=this.$store.getters.get_student_id;this.student_name=this.$store.getters.get_student_name,this.parent=this.$store.getters.get_parent;var a=this.$store.getters.get_server_ip.concat("/fee_processing/fee_details/");__WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(a,{params:{school_id:e,student_id:s}}).then(function(e){var s;for(t.student_erp_id=e.data.reg_no,t.the_class=e.data.current_class,s=0;s<e.data.heads.length;s++){var a={};"N/A"!=e.data.heads[s].amount&&(a.head=e.data.heads[s].head,a.amount=e.data.heads[s].amount,a.discount_perc=0,a.discount_amt=0,a.net_payable=e.data.heads[s].amount,t.heads.push(a),"Transportation Fee"==a.head&&(t.transport_fee=a.amount,console.log("transportation fee = ",t.transport_fee)))}console.log("heads = ",t.heads),t.due_till_now=e.data["Due till now"],console.log(t.due_till_now),t.dues=e.data["Previous Outstanding"],t.previous_due=e.data["Previous Outstanding"],t.paid_till_date=e.data["Paid till date"],t.delay=e.data["Days Delay"]+" Days/"+e.data["Weeks Delay"]+" Weeks"}).catch(function(t){console.log(t)})},methods:{click:function(){},apply_cash_discount:function(t){console.log(t),console.log("inside apply_cash_discount"),console.log("discount to be given = ",t.discount_amt);var e=this.heads.indexOf(t),s=this.heads[e].amount;console.log("original amount = ",s);var a=t.discount_amt;this.heads[e].discount_amt=a,console.log("discount = ",a);var i=s-a;console.log("discounted amount = ",i);var o=a/s*100;console.log("% discount = ",o),this.heads[e].discount_perc=o.toFixed(0),this.heads[e].net_payable=i,this.discount_given+=a},apply_perc_discount:function(t){console.log(t),console.log("inside apply_perc_discount"),console.log("% discount to be given = ",t.discount_perc);var e=this.heads.indexOf(t);this.heads[e].discount_perc=t.discount_perc;var s=this.heads[e].amount;console.log("original amount = ",s);var a=s*t.discount_perc/100;this.heads[e].discount_amt=a,console.log("discount = ",a);var i=s-a;console.log("discounted amount = ",i),this.heads[e].net_payable=i,this.discount_given+=a},update_fee:function(t){console.log("inside update_fee");var e=this.heads.indexOf(t);this.heads[e].net_payable=t.amount},validate_fee:function(){if(0==this.actual_paid)return this.alert_message="Please enter actual fees paid",this.showDismissibleAlert=!0,void(this.alert_color="red");if(""==this.payment_mode)return this.alert_message="Please select a Payment mode",this.showDismissibleAlert=!0,void(this.alert_color="red");if("cheque"==this.payment_mode){if(console.log("payment mode cheque"),"N/A"==this.cheque_no||""==this.cheque_no)return this.cheque_no="",this.alert_message="Please enter cheque number",this.showDismissibleAlert=!0,void(this.alert_color="red");if("N/A"==this.bank||""==this.bank)return this.bank="",this.alert_message="Please enter Bank Name",this.showDismissibleAlert=!0,void(this.alert_color="red")}if(this.actual_paid<this.net_payable){console.log("short fee case");var t=this.balance;this.caption="Short Fees Alert",this.alert_message="Fees paid is less than Net payable by "+t,this.alert_message+=". This will be added to the Balance. Do you want to proceed?",this.confirm=!0}if(this.actual_paid>this.net_payable){console.log("excess fee case");var e=this.actual_paid-this.net_payable;this.caption="Excess Fees Alert",this.alert_message="Fees paid is more than Net payable by "+e,this.alert_message+=". This will be adjusted in future payments. Do you want to proceed?",this.confirm=!0}this.actual_paid==this.net_payable&&(this.caption="Confirm fee submission",this.alert_message="Are you sure you want to accept this fee? ",this.confirm=!0)},close:function(){console.log("Dialog closed")},fee_history:function(){var t=this,e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=this.student_erp_id,i=e.concat("/fee_processing/fee_history_download/?school_id=",s,"&reg_no=",a);__WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(i,{headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i=t.$store.getters.get_student_name+"_fee_history.xlsx";a.setAttribute("download",i),document.body.appendChild(a),a.click(),t.waiting=!1,confirm("Fee Payment History Downloaded")}).catch(function(t){console.log(t)}).then(function(){})},process_fee:function(){var t=this;console.log("inside process fees"),this.confirm=!1;var e=this.$store.getters.get_server_ip,s=this.$store.getters.get_school_id,a=e.concat("/fee_processing/process_fee/",s,"/");__WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(a,{reg_no:this.student_erp_id,heads:this.heads,due_this_term:this.due_this_term,previous_due:this.previous_due,paid_till_date:this.paid_till_date,fine:this.late_fee,one_time:this.one_time,discount:this.discount_given,waiver:this.waiver,net_payable:this.net_payable,actual_paid:this.actual_paid,balance:this.balance,mode:this.payment_mode,cheque_no:this.cheque_no,bank:this.bank}).then(function(e){console.log(e);var s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s;var i=t.student_name+" ("+t.student_erp_id+")";i+="_fee_receipt.pdf",a.setAttribute("download",i),document.body.appendChild(a),a.click(),confirm("Fees successfully deposited"),t.$router.replace("/student_search")}).catch(function(t){console.log(t)}).then(function(){})},dismiss:function(){this.showDismissibleAlert=!1}}}},ax6h:function(t,e){},bV6H:function(t,e){},cPsa:function(t,e){},csSS:function(t,e){},mBBz:function(t,e){},tiUG:function(t,e){},wWgE:function(t,e){},zKJF:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ab34ee12db56bf66358d.js.map